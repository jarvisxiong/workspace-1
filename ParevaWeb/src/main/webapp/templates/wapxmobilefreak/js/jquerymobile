(function(n,t,i){"function"==typeof define&&define.amd?define(["jquery"],function(r){return i(r,n,t),r.mobile}):i(n.jQuery,n,t)})(this,document,function(n,t,i,r){(function(n){n.mobile={}})(n),function(n,t,r){var u={},f,e;n.mobile=n.extend(n.mobile,{version:"1.3.1",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:250,touchOverflowEnabled:!1,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"e",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,orientationChangeEnabled:!0,buttonMarkup:{hoverDelay:200},window:n(t),document:n(i),keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},behaviors:{},silentScroll:function(i){"number"!==n.type(i)&&(i=n.mobile.defaultHomeScroll);n.event.special.scrollstart.enabled=!1;setTimeout(function(){t.scrollTo(0,i);n.mobile.document.trigger("silentscroll",{x:0,y:i})},20);setTimeout(function(){n.event.special.scrollstart.enabled=!0},150)},nsNormalizeDict:u,nsNormalize:function(t){return t?u[t]||(u[t]=n.camelCase(n.mobile.ns+t)):r},getInheritedTheme:function(n,t){for(var r,u,i=n[0],f="";i&&(r=i.className||"",!(r&&(u=/ui-(bar|body|overlay)-([a-z])\b/.exec(r))&&(f=u[2])));)i=i.parentNode;return f||t||"a"},closestPageData:function(n){return n.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("mobile-page")},enhanceable:function(n){return this.haveParents(n,"enhance")},hijackable:function(n){return this.haveParents(n,"ajax")},haveParents:function(t,i){var s;if(!n.mobile.ignoreContentEnabled)return t;for(var r,o,f,h=t.length,e=n(),u=0;h>u;u++){for(o=t.eq(u),f=!1,r=t[u];r;){if(s=r.getAttribute?r.getAttribute("data-"+n.mobile.ns+i):"","false"===s){f=!0;break}r=r.parentNode}f||(e=e.add(o))}return e},getScreenHeight:function(){return t.innerHeight||n.mobile.window.height()}},n.mobile);n.fn.jqmData=function(t,i){var u;return t!==r&&(t&&(t=n.mobile.nsNormalize(t)),u=2>arguments.length||i===r?this.data(t):this.data(t,i)),u};n.jqmData=function(t,i,u){var f;return i!==r&&(f=n.data(t,i?n.mobile.nsNormalize(i):i,u)),f};n.fn.jqmRemoveData=function(t){return this.removeData(n.mobile.nsNormalize(t))};n.jqmRemoveData=function(t,i){return n.removeData(t,n.mobile.nsNormalize(i))};n.fn.removeWithDependents=function(){n.removeWithDependents(this)};n.removeWithDependents=function(t){var i=n(t);(i.jqmData("dependents")||n()).remove();i.remove()};n.fn.addDependents=function(t){n.addDependents(n(this),t)};n.addDependents=function(t,i){var r=n(t).jqmData("dependents")||n();n(t).jqmData("dependents",n.merge(r,i))};n.fn.getEncodedText=function(){return n("<div/>").text(n(this).text()).html()};n.fn.jqmEnhanceable=function(){return n.mobile.enhanceable(this)};n.fn.jqmHijackable=function(){return n.mobile.hijackable(this)};f=n.find;e=/:jqmData\(([^)]*)\)/g;n.find=function(t,i,r,u){return t=t.replace(e,"[data-"+(n.mobile.ns||"")+"$1]"),f.call(this,t,i,r,u)};n.extend(n.find,f);n.find.matches=function(t,i){return n.find(t,null,null,i)};n.find.matchesSelector=function(t,i){return n.find(i,null,null,[t]).length>0}}(n,this),function(n,t){var r=0,i=Array.prototype.slice,u=n.cleanData;n.cleanData=function(t){for(var i,r=0;null!=(i=t[r]);r++)try{n(i).triggerHandler("remove")}catch(f){}u(t)};n.widget=function(i,r,u){var h,e,f,s,o=i.split(".")[0];i=i.split(".")[1];h=o+"-"+i;u||(u=r,r=n.Widget);n.expr[":"][h.toLowerCase()]=function(t){return!!n.data(t,h)};n[o]=n[o]||{};e=n[o][i];f=n[o][i]=function(n,i){return this._createWidget?(arguments.length&&this._createWidget(n,i),t):new f(n,i)};n.extend(f,e,{version:u.version,_proto:n.extend({},u),_childConstructors:[]});s=new r;s.options=n.widget.extend({},s.options);n.each(u,function(t,i){n.isFunction(i)&&(u[t]=function(){var n=function(){return r.prototype[t].apply(this,arguments)},u=function(n){return r.prototype[t].apply(this,n)};return function(){var t,r=this._super,f=this._superApply;return this._super=n,this._superApply=u,t=i.apply(this,arguments),this._super=r,this._superApply=f,t}}())});f.prototype=n.widget.extend(s,{widgetEventPrefix:e?s.widgetEventPrefix:i},u,{constructor:f,namespace:o,widgetName:i,widgetFullName:h});e?(n.each(e._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,f,i._proto)}),delete e._childConstructors):r._childConstructors.push(f);n.widget.bridge(i,f)};n.widget.extend=function(r){for(var u,f,o=i.call(arguments,1),e=0,s=o.length;s>e;e++)for(u in o[e])f=o[e][u],o[e].hasOwnProperty(u)&&f!==t&&(r[u]=n.isPlainObject(f)?n.isPlainObject(r[u])?n.widget.extend({},r[u],f):n.widget.extend({},f):f);return r};n.widget.bridge=function(r,u){var f=u.prototype.widgetFullName||r;n.fn[r]=function(e){var h="string"==typeof e,o=i.call(arguments,1),s=this;return e=!h&&o.length?n.widget.extend.apply(null,[e].concat(o)):e,h?this.each(function(){var i,u=n.data(this,f);return u?n.isFunction(u[e])&&"_"!==e.charAt(0)?(i=u[e].apply(u,o),i!==u&&i!==t?(s=i&&i.jquery?s.pushStack(i.get()):i,!1):t):n.error("no such method '"+e+"' for "+r+" widget instance"):n.error("cannot call methods on "+r+" prior to initialization; attempted to call method '"+e+"'")}):this.each(function(){var t=n.data(this,f);t?t.option(e||{})._init():n.data(this,f,new u(e,this))}),s}};n.Widget=function(){};n.Widget._childConstructors=[];n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=n(i||this.defaultElement||this)[0];this.element=n(i);this.uuid=r++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=n.widget.extend({},this.options,this._getCreateOptions(),t);this.bindings=n();this.hoverable=n();this.focusable=n();i!==this&&(n.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=n(i.style?i.ownerDocument:i.document||i),this.window=n(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:n.noop,_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:n.noop,widget:function(){return this.element},option:function(i,r){var u,f,e,o=i;if(0===arguments.length)return n.widget.extend({},this.options);if("string"==typeof i)if(o={},u=i.split("."),i=u.shift(),u.length){for(f=o[i]=n.widget.extend({},this.options[i]),e=0;u.length-1>e;e++)f[u[e]]=f[u[e]]||{},f=f[u[e]];if(i=u.pop(),r===t)return f[i]===t?null:f[i];f[i]=r}else{if(r===t)return this.options[i]===t?null:this.options[i];o[i]=r}return this._setOptions(o),this},_setOptions:function(n){var t;for(t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return this.options[n]=t,"disabled"===n&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,r,u){var e,f=this;"boolean"!=typeof i&&(u=r,r=i,i=!1);u?(r=e=n(r),this.bindings=this.bindings.add(r)):(u=r,r=this.element,e=this.widget());n.each(u,function(u,o){function s(){return i||f.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled")?("string"==typeof o?f[o]:o).apply(f,arguments):t}"string"!=typeof o&&(s.guid=o.guid=o.guid||s.guid||n.guid++);var h=u.match(/^(\w+)\s*(.*)$/),c=h[1]+f.eventNamespace,l=h[2];l?e.delegate(l,c,s):r.bind(c,s)})},_off:function(n,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;n.unbind(t).undelegate(t)},_delay:function(n,t){function r(){return("string"==typeof n?i[n]:n).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){n(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){n(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){n(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){n(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}};n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){"string"==typeof u&&(u={effect:u});var o,e=u?u===!0||"number"==typeof u?i:u.effect||i:t;u=u||{};"number"==typeof u&&(u={duration:u});o=!n.isEmptyObject(u);u.complete=f;u.delay&&r.delay(u.delay);o&&n.effects&&n.effects.effect[e]?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t]();f&&f.call(r[0]);i()})}})}(n),function(n,t){n.widget("mobile.widget",{_createWidget:function(){n.Widget.prototype._createWidget.apply(this,arguments);this._trigger("init")},_getCreateOptions:function(){var r=this.element,i={};return n.each(this.options,function(n){var u=r.jqmData(n.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}));u!==t&&(i[n]=u)}),i},enhanceWithin:function(t,i){this.enhance(n(this.options.initSelector,n(t)),i)},enhance:function(t,i){var u,f,r=n(t);r=n.mobile.enhanceable(r);i&&r.length&&(u=n.mobile.closestPageData(r),f=u&&u.keepNativeSelector()||"",r=r.not(f));r[this.widgetName]()},raise:function(n){throw"Widget ["+this.widgetName+"]: "+n;}})}(n),function(n){n.extend(n.mobile,{loadingMessageTextVisible:r,loadingMessageTheme:r,loadingMessage:r,showPageLoadingMsg:function(t,i,r){n.mobile.loading("show",t,i,r)},hidePageLoadingMsg:function(){n.mobile.loading("hide")},loading:function(){this.loaderWidget.loader.apply(this.loaderWidget,arguments)}});var i="ui-loader",u=n("html"),t=n.mobile.window;n.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='"+i+"'><span class='ui-icon ui-icon-loading'><\/span><h1><\/h1><\/div>",fakeFixLoader:function(){var i=n("."+n.mobile.activeBtnClass).first();this.element.css({top:n.support.scrollTop&&t.scrollTop()+t.height()/2||i.length&&i.offset().top||100})},checkLoaderPosition:function(){var i=this.element.offset(),r=t.scrollTop(),u=n.mobile.getScreenHeight();(r>i.top||i.top-r>u)&&(this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),t.unbind("scroll",this.checkLoaderPosition).bind("scroll",n.proxy(this.fakeFixLoader,this)))},resetHtml:function(){this.element.html(n(this.defaultHtml).html())},show:function(f,e,o){var h,c,s;this.resetHtml();"object"===n.type(f)?(s=n.extend({},this.options,f),f=s.theme||n.mobile.loadingMessageTheme):(s=this.options,f=f||n.mobile.loadingMessageTheme||s.theme);c=e||n.mobile.loadingMessage||s.text;u.addClass("ui-loading");(n.mobile.loadingMessage!==!1||s.html)&&(h=n.mobile.loadingMessageTextVisible!==r?n.mobile.loadingMessageTextVisible:s.textVisible,this.element.attr("class",i+" ui-corner-all ui-body-"+f+" ui-loader-"+(h||e||f.text?"verbose":"default")+(s.textonly||o?" ui-loader-textonly":"")),s.html?this.element.html(s.html):this.element.find("h1").text(c),this.element.appendTo(n.mobile.pageContainer),this.checkLoaderPosition(),t.bind("scroll",n.proxy(this.checkLoaderPosition,this)))},hide:function(){u.removeClass("ui-loading");n.mobile.loadingMessage&&this.element.removeClass("ui-loader-fakefix");n.mobile.window.unbind("scroll",this.fakeFixLoader);n.mobile.window.unbind("scroll",this.checkLoaderPosition)}});t.bind("pagecontainercreate",function(){n.mobile.loaderWidget=n.mobile.loaderWidget||n(n.mobile.loader.prototype.defaultHtml).loader()})}(n,this),function(n,t,r){function f(n){return n=n||location.href,"#"+n.replace(/^[^#]*#?(.*)$/,"$1")}var o,u="hashchange",e=i,h=n.event.special,c=e.documentMode,s="on"+u in t&&(c===r||c>7);n.fn[u]=function(n){return n?this.bind(u,n):this.trigger(u)};n.fn[u].delay=50;h[u]=n.extend(h[u],{setup:function(){return s?!1:(n(o.start),r)},teardown:function(){return s?!1:(n(o.stop),r)}});o=function(){function c(){var e=f(),r=v(h);e!==h?(a(h=e,r),n(t).trigger(u)):r!==h&&(location.href=location.href.replace(/#.*/,"")+r);i=setTimeout(c,n.fn[u].delay)}var i,o={},h=f(),l=function(n){return n},a=l,v=l;return o.start=function(){i||c()},o.stop=function(){i&&clearTimeout(i);i=r},t.attachEvent&&!t.addEventListener&&!s&&function(){var t,i;o.start=function(){t||(i=n.fn[u].src,i=i&&i+f(),t=n('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){i||a(f());c()}).attr("src",i||"javascript:0").insertAfter("body")[0].contentWindow,e.onpropertychange=function(){try{"title"===event.propertyName&&(t.document.title=e.title)}catch(n){}})};o.stop=l;v=function(){return f(t.location.href)};a=function(i,r){var f=t.document,o=n.fn[u].domain;i!==r&&(f.title=e.title,f.open(),o&&f.write('<script>document.domain="'+o+'"<\/script>'),f.close(),t.location.hash=i)}}(),o}()}(n,this),function(n){t.matchMedia=t.matchMedia||function(n){var u,i=n.documentElement,f=i.firstElementChild||i.firstChild,r=n.createElement("body"),t=n.createElement("div");return t.id="mq-test-1",t.style.cssText="position:absolute;top:-100em",r.style.background="none",r.appendChild(t),function(n){return t.innerHTML='&shy;<style media="'+n+'"> #mq-test-1 { width: 42px; }<\/style>',i.insertBefore(r,f),u=42===t.offsetWidth,i.removeChild(r),{matches:u,media:n}}}(i);n.mobile.media=function(n){return t.matchMedia(n).matches}}(n),function(n){var t={touch:"ontouchend"in i};n.mobile.support=n.mobile.support||{};n.extend(n.support,t);n.extend(n.mobile.support,t)}(n),function(n){n.extend(n.support,{orientation:"orientation"in t&&"onorientationchange"in t})}(n),function(n,r){function f(n){var t=n.charAt(0).toUpperCase()+n.substr(1),i=(n+" "+e.join(t+" ")+t).split(" "),u;for(u in i)if(p[i[u]]!==r)return!0}function h(n,t,r){for(var f,o=i.createElement("div"),s=function(n){return n.charAt(0).toUpperCase()+n.substr(1)},c=function(n){return""===n?"":"-"+n.charAt(0).toLowerCase()+n.substr(1)+"-"},l=function(i){var u=c(i)+n+": "+t+";",r=s(i),e=r+(""===r?n:s(n));o.setAttribute("style",u);o.style[e]&&(f=!0)},h=r?r:e,u=0;h.length>u;u++)l(h[u]);return!!f}function c(){var h="transform-3d",f=n.mobile.media("(-"+e.join("-"+h+"),(-")+"-"+h+"),("+h+")"),o,c,s;if(f)return!!f;o=i.createElement("div");c={MozTransform:"-moz-transform",transform:"transform"};u.append(o);for(s in c)o.style[s]!==r&&(o.style[s]="translate3d( 100px, 1px, 1px )",f=t.getComputedStyle(o).getPropertyValue(c[s]));return!!f&&"none"!==f}function l(){var r,f,e=location.protocol+"//"+location.host+location.pathname+"ui-dir/",t=n("head base"),i=null,o="";return t.length?o=t.attr("href"):t=i=n("<base>",{href:e}).appendTo("head"),r=n("<a href='testurl' />").prependTo(u),f=r[0].href,t[0].href=o||location.pathname,i&&i.remove(),0===f.indexOf(e)}function a(){var r,n=i.createElement("x"),u=i.documentElement,f=t.getComputedStyle;return"pointerEvents"in n.style?(n.style.pointerEvents="auto",n.style.pointerEvents="x",u.appendChild(n),r=f&&"auto"===f(n,"").pointerEvents,u.removeChild(n),!!r):!1}function v(){var n=i.createElement("div");return n.getBoundingClientRect!==r}function y(){var f=t,n=navigator.userAgent,r=navigator.platform,e=n.match(/AppleWebKit\/([0-9]+)/),i=!!e&&e[1],o=n.match(/Fennec\/([0-9]+)/),s=!!o&&o[1],u=n.match(/Opera Mobi\/([0-9]+)/),h=!!u&&u[1];return(r.indexOf("iPhone")>-1||r.indexOf("iPad")>-1||r.indexOf("iPod")>-1)&&i&&534>i||f.operamini&&"[object OperaMini]"==={}.toString.call(f.operamini)||u&&7458>h||n.indexOf("Android")>-1&&i&&533>i||s&&6>s||"palmGetResource"in t&&i&&534>i||n.indexOf("MeeGo")>-1&&n.indexOf("NokiaBrowser/8.5.0")>-1?!1:!0}var u=n("<body>").prependTo("html"),p=u[0].style,e=["Webkit","Moz","O"],w="palmGetResource"in t,b=t.opera,s=t.operamini&&"[object OperaMini]"==={}.toString.call(t.operamini),k=t.blackberry&&!f("-webkit-transform"),o;n.extend(n.mobile,{browser:{}});n.mobile.browser.oldIE=function(){var n=3,t=i.createElement("div"),r=t.all||[];do t.innerHTML="<!--[if gt IE "+ ++n+"]><br><![endif]-->";while(r[0]);return n>4?n:!n}();n.extend(n.support,{cssTransitions:"WebKitTransitionEvent"in t||h("transition","height 100ms linear",["Webkit","Moz",""])&&!n.mobile.browser.oldIE&&!b,pushState:"pushState"in history&&"replaceState"in history&&!(t.navigator.userAgent.indexOf("Firefox")>=0&&t.top!==t)&&-1===t.navigator.userAgent.search(/CriOS/),mediaquery:n.mobile.media("only all"),cssPseudoElement:!!f("content"),touchOverflow:!!f("overflowScrolling"),cssTransform3d:c(),boxShadow:!!f("boxShadow")&&!k,fixedPosition:y(),scrollTop:("pageXOffset"in t||"scrollTop"in i.documentElement||"scrollTop"in u[0])&&!w&&!s,dynamicBaseTag:l(),cssPointerEvents:a(),boundingRect:v()});u.remove();o=function(){var n=t.navigator.userAgent;return n.indexOf("Nokia")>-1&&(n.indexOf("Symbian/3")>-1||n.indexOf("Series60/5")>-1)&&n.indexOf("AppleWebKit")>-1&&n.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();n.mobile.gradeA=function(){return(n.support.mediaquery||n.mobile.browser.oldIE&&n.mobile.browser.oldIE>=7)&&(n.support.boundingRect||null!==n.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))};n.mobile.ajaxBlacklist=t.blackberry&&!t.WebKitPoint||s||o;o&&n(function(){n("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")});n.support.boxShadow||n("html").addClass("ui-mobile-nosupport-boxshadow")}(n),function(n,t){var i,r=n.mobile.window;n.event.special.navigate=i={bound:!1,pushStateEnabled:!0,originalEventName:t,isPushStateEnabled:function(){return n.support.pushState&&n.mobile.pushStateEnabled===!0&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return n.mobile.hashListeningEnabled===!0},popstate:function(t){var i=new n.Event("navigate"),u=new n.Event("beforenavigate"),f=t.originalEvent.state||{};location.href;r.trigger(u);u.isDefaultPrevented()||(t.historyState&&n.extend(f,t.historyState),i.originalEvent=t,setTimeout(function(){r.trigger(i,{state:f})},0))},hashchange:function(t){var i=new n.Event("navigate"),u=new n.Event("beforenavigate");r.trigger(u);u.isDefaultPrevented()||(i.originalEvent=t,r.trigger(i,{state:t.hashchangeState||{}}))},setup:function(){i.bound||(i.bound=!0,i.isPushStateEnabled()?(i.originalEventName="popstate",r.bind("popstate.navigate",i.popstate)):i.isHashChangeEnabled()&&(i.originalEventName="hashchange",r.bind("hashchange.navigate",i.hashchange)))}}}(n),function(n,i){var r,u,f="&ui-state=dialog";n.mobile.path=r={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(n){var t=n?this.parseUrl(n):location,i=this.parseUrl(n||location.href).hash;return i="#"===i?"":i,t.protocol+"//"+t.host+t.pathname+t.search+i},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(t){if("object"===n.type(t))return t;var i=r.urlParseRE.exec(t||"")||[];return{href:i[0]||"",hrefNoHash:i[1]||"",hrefNoSearch:i[2]||"",domain:i[3]||"",protocol:i[4]||"",doubleSlash:i[5]||"",authority:i[6]||"",username:i[8]||"",password:i[9]||"",host:i[10]||"",hostname:i[11]||"",port:i[12]||"",pathname:i[13]||"",directory:i[14]||"",filename:i[15]||"",search:i[16]||"",hash:i[17]||""}},makePathAbsolute:function(n,t){var u;if(n&&"/"===n.charAt(0))return n;n=n||"";t=t?t.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"";for(var i=t?t.split("/"):[],f=n.split("/"),r=0;f.length>r;r++){u=f[r];switch(u){case".":break;case"..":i.length&&i.pop();break;default:i.push(u)}}return"/"+i.join("/")},isSameDomain:function(n,t){return r.parseUrl(n).domain===r.parseUrl(t).domain},isRelativeUrl:function(n){return""===r.parseUrl(n).protocol},isAbsoluteUrl:function(n){return""!==r.parseUrl(n).protocol},makeUrlAbsolute:function(n,t){if(!r.isRelativeUrl(n))return n;t===i&&(t=this.documentBase);var u=r.parseUrl(n),f=r.parseUrl(t),e=u.protocol||f.protocol,o=u.protocol?u.doubleSlash:u.doubleSlash||f.doubleSlash,s=u.authority||f.authority,h=""!==u.pathname,c=r.makePathAbsolute(u.pathname||f.filename,f.pathname),l=u.search||!h&&f.search||"",a=u.hash;return e+o+s+c+l+a},addSearchParams:function(t,i){var u=r.parseUrl(t),e="object"==typeof i?n.param(i):i,f=u.search||"?";return u.hrefNoSearch+f+("?"!==f.charAt(f.length-1)?"&":"")+e+(u.hash||"")},convertUrlToDataUrl:function(n){var i=r.parseUrl(n);return r.isEmbeddedPage(i)?i.hash.split(f)[0].replace(/^#/,"").replace(/\?.*$/,""):r.isSameDomain(i,this.documentBase)?i.hrefNoHash.replace(this.documentBase.domain,"").split(f)[0]:t.decodeURIComponent(n)},get:function(n){return n===i&&(n=r.parseLocation().hash),r.stripHash(n).replace(/[^\/]*\.[^\/*]+$/,"")},set:function(n){location.hash=n},isPath:function(n){return/\//.test(n)},clean:function(n){return n.replace(this.documentBase.domain,"")},stripHash:function(n){return n.replace(/^#/,"")},stripQueryParams:function(n){return n.replace(/\?.*$/,"")},cleanHash:function(n){return r.stripHash(n.replace(/\?.*$/,"").replace(f,""))},isHashValid:function(n){return/^#[^#]+$/.test(n)},isExternal:function(n){var t=r.parseUrl(n);return t.protocol&&t.domain!==this.documentUrl.domain?!0:!1},hasProtocol:function(n){return/^(:?\w+:)/.test(n)},isEmbeddedPage:function(n){var t=r.parseUrl(n);return""!==t.protocol?!this.isPath(t.hash)&&t.hash&&(t.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&t.hrefNoHash===this.documentBase.hrefNoHash):/^#/.test(t.href)},squash:function(n,t){var i,f,h,o,c=this.isPath(n),s=this.parseUrl(n),u=s.hash,e="";return t=t||(r.isPath(n)?r.getLocation():r.getDocumentUrl()),f=c?r.stripHash(n):n,f=r.isPath(s.hash)?r.stripHash(s.hash):f,o=f.indexOf(this.uiStateKey),o>-1&&(e=f.slice(o),f=f.slice(0,o)),i=r.makeUrlAbsolute(f,t),h=this.parseUrl(i).search,c?((r.isPath(u)||0===u.replace("#","").indexOf(this.uiStateKey))&&(u=""),e&&-1===u.indexOf(this.uiStateKey)&&(u+=e),-1===u.indexOf("#")&&""!==u&&(u="#"+u),i=r.parseUrl(i),i=i.protocol+"//"+i.host+i.pathname+h+u):i+=i.indexOf("#")>-1?e:"#"+e,i},isPreservableHash:function(n){return 0===n.replace("#","").indexOf(this.uiStateKey)}};r.documentUrl=r.parseLocation();u=n("head").find("base");r.documentBase=u.length?r.parseUrl(r.makeUrlAbsolute(u.attr("href"),r.documentUrl.href)):r.documentUrl;r.documentBaseDiffers=r.documentUrl.hrefNoHash!==r.documentBase.hrefNoHash;r.getDocumentUrl=function(t){return t?n.extend({},r.documentUrl):r.documentUrl.href};r.getDocumentBase=function(t){return t?n.extend({},r.documentBase):r.documentBase.href}}(n),function(n,t){n.mobile.path;n.mobile.History=function(n,t){this.stack=n||[];this.activeIndex=t||0};n.extend(n.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex]},getLast:function(){return this.stack[this.previousIndex]},getNext:function(){return this.stack[this.activeIndex+1]},getPrev:function(){return this.stack[this.activeIndex-1]},add:function(n,t){t=t||{};this.getNext()&&this.clearForward();t.hash&&-1===t.hash.indexOf("#")&&(t.hash="#"+t.hash);t.url=n;this.stack.push(t);this.activeIndex=this.stack.length-1},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1)},find:function(n,t,i){t=t||this.stack;for(var u,f,e=t.length,r=0;e>r;r++)if(u=t[r],(decodeURIComponent(n)===decodeURIComponent(u.url)||decodeURIComponent(n)===decodeURIComponent(u.hash))&&(f=r,i))return f;return f},closest:function(n){var i,r=this.activeIndex;return i=this.find(n,this.stack.slice(0,r)),i===t&&(i=this.find(n,this.stack.slice(r),!0),i=i===t?i:i+r),i},direct:function(i){var r=this.closest(i.url),u=this.activeIndex;r!==t&&(this.activeIndex=r,this.previousIndex=u);u>r?(i.present||i.back||n.noop)(this.getActive(),"back"):r>u?(i.present||i.forward||n.noop)(this.getActive(),"forward"):r===t&&i.missing&&i.missing(this.getActive())}})}(n),function(n){var u=n.mobile.path,f=location.href;n.mobile.Navigator=function(t){this.history=t;this.ignoreInitialHashChange=!0;n.mobile.window.bind({"popstate.history":n.proxy(this.popstate,this),"hashchange.history":n.proxy(this.hashchange,this)})};n.extend(n.mobile.Navigator.prototype,{squash:function(r,f){var e,o,s=u.isPath(r)?u.stripHash(r):r;return o=u.squash(r),e=n.extend({hash:s,url:o},f),t.history.replaceState(e,e.title||i.title,o),e},hash:function(n,t){var i,e,f,r;return(i=u.parseUrl(n),e=u.parseLocation(),e.pathname+e.search===i.pathname+i.search)?f=i.hash?i.hash:i.pathname+i.search:u.isPath(n)?(r=u.parseUrl(t),f=r.pathname+r.search+(u.isPreservableHash(r.hash)?r.hash.replace("#",""):"")):f=n,f},go:function(r,f,e){var o,h,s,c,l=n.event.special.navigate.isPushStateEnabled();h=u.squash(r);s=this.hash(r,h);e&&s!==u.stripHash(u.parseLocation().hash)&&(this.preventNextHashChange=e);this.preventHashAssignPopState=!0;t.location.hash=s;this.preventHashAssignPopState=!1;o=n.extend({url:h,hash:s,title:i.title},f);l&&(c=new n.Event("popstate"),c.originalEvent={type:"popstate",state:null},this.squash(r,o),e||(this.ignorePopState=!0,n.mobile.window.trigger(c)));this.history.add(o.url,o)},popstate:function(t){var i,e;if(n.event.special.navigate.isPushStateEnabled())return this.preventHashAssignPopState?(this.preventHashAssignPopState=!1,t.stopImmediatePropagation(),r):this.ignorePopState?(this.ignorePopState=!1,r):!t.originalEvent.state&&1===this.history.stack.length&&this.ignoreInitialHashChange&&(this.ignoreInitialHashChange=!1,location.href===f)?(t.preventDefault(),r):(i=u.parseLocation().hash,!t.originalEvent.state&&i?(e=this.squash(i),this.history.add(e.url,e),t.historyState=e,r):(this.history.direct({url:(t.originalEvent.state||{}).url||i,present:function(i,r){t.historyState=n.extend({},i);t.historyState.direction=r}}),r))},hashchange:function(t){var e,f;if(n.event.special.navigate.isHashChangeEnabled()&&!n.event.special.navigate.isPushStateEnabled()){if(this.preventNextHashChange)return this.preventNextHashChange=!1,t.stopImmediatePropagation(),r;e=this.history;f=u.parseLocation().hash;this.history.direct({url:f,present:function(i,r){t.hashchangeState=n.extend({},i);t.hashchangeState.direction=r},missing:function(){e.add(f,{hash:f,title:i.title})}})}}})}(n),function(n){n.mobile.navigate=function(t,i,r){n.mobile.navigate.navigator.go(t,i,r)};n.mobile.navigate.history=new n.mobile.History;n.mobile.navigate.navigator=new n.mobile.Navigator(n.mobile.navigate.history);var t=n.mobile.path.parseLocation();n.mobile.navigate.history.add(t.href,{hash:t.hash})}(n),function(n,t,i,r){function h(n){for(;n&&n.originalEvent!==r;)n=n.originalEvent;return n}function vt(t,i){var e,o,l,u,s,v,a,c,y,f=t.type;if(t=n.Event(t),t.type=i,e=t.originalEvent,o=n.event.props,f.search(/^(mouse|click)/)>-1&&(o=gt),e)for(a=o.length,u;a;)u=o[--a],t[u]=e[u];if(f.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),-1!==f.search(/^touch/)&&(l=h(e),f=l.touches,s=l.changedTouches,v=f&&f.length?f[0]:s&&s.length?s[0]:r))for(c=0,y=ct.length;y>c;c++)u=ct[c],t[u]=v[u];return t}function v(t){for(var i,r,u={};t;){i=n.data(t,o);for(r in i)i[r]&&(u[r]=u.hasVirtualBinding=!0);t=t.parentNode}return u}function yt(t,i){for(var r;t;){if(r=n.data(t,o),r&&(!i||r[i]))return t;t=t.parentNode}return null}function pt(){l=!1}function tt(){l=!0}function wt(){s=0;y.length=0;g=!1;tt()}function bt(){pt()}function w(){it();c=setTimeout(function(){c=0;wt()},n.vmouse.resetTimerDuration)}function it(){c&&(clearTimeout(c),c=0)}function f(t,i,r){var u;return(r&&r[t]||!r&&yt(i.target,t))&&(u=vt(i,t),n(i.target).trigger(u)),u}function rt(t){var r=n.data(t.target,k),i;g||s&&s===r||(i=f("v"+t.type,t),i&&(i.isDefaultPrevented()&&t.preventDefault(),i.isPropagationStopped()&&t.stopPropagation(),i.isImmediatePropagationStopped()&&t.stopImmediatePropagation()))}function ut(t){var r,i,o=h(t).touches,u;o&&1===o.length&&(r=t.target,i=v(r),i.hasVirtualBinding)&&(s=ni++,n.data(r,k,s),it(),bt(),e=!1,u=h(t).touches[0],lt=u.pageX,at=u.pageY,f("vmouseover",t,i),f("vmousedown",t,i))}function ft(n){l||(e||f("vmousecancel",n,v(n.target)),e=!0,w())}function et(t){if(!l){var i=h(t).touches[0],o=e,r=n.vmouse.moveDistanceThreshold,u=v(t.target);e=e||Math.abs(i.pageX-lt)>r||Math.abs(i.pageY-at)>r;e&&!o&&f("vmousecancel",t,u);f("vmousemove",t,u);w()}}function ot(n){var i,t,r;l||(tt(),t=v(n.target),(f("vmouseup",n,t),e)||(r=f("vclick",n,t),r&&r.isDefaultPrevented()&&(i=h(n).changedTouches[0],y.push({touchID:s,x:i.clientX,y:i.clientY}),g=!0)),f("vmouseout",n,t),e=!1,w())}function st(t){var r,i=n.data(t,o);if(i)for(r in i)if(i[r])return!0;return!1}function ht(){}function kt(t){var i=t.substr(1);return{setup:function(){st(this)||n.data(this,o,{});var r=n.data(this,o);r[t]=!0;u[t]=(u[t]||0)+1;1===u[t]&&p.bind(i,rt);n(this).bind(i,ht);nt&&(u.touchstart=(u.touchstart||0)+1,1===u.touchstart&&p.bind("touchstart",ut).bind("touchend",ot).bind("touchmove",et).bind("scroll",ft))},teardown:function(){--u[t];u[t]||p.unbind(i,rt);nt&&(--u.touchstart,u.touchstart||p.unbind("touchstart",ut).unbind("touchmove",et).unbind("touchend",ot).unbind("scroll",ft));var r=n(this),f=n.data(this,o);f&&(f[t]=!1);r.unbind(i,ht);st(this)||r.removeData(o)}}}var b,o="virtualMouseBindings",k="virtualTouchID",d="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),ct="clientX clientY pageX pageY screenX screenY".split(" "),dt=n.event.mouseHooks?n.event.mouseHooks.props:[],gt=n.event.props.concat(dt),u={},c=0,lt=0,at=0,e=!1,y=[],g=!1,l=!1,nt="addEventListener"in i,p=n(i),ni=1,s=0,a;for(n.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},a=0;d.length>a;a++)n.event.special[d[a]]=kt(d[a]);nt&&i.addEventListener("click",function(t){var e,o,i,u,f,c,s=y.length,h=t.target;if(s)for(e=t.clientX,o=t.clientY,b=n.vmouse.clickDistanceThreshold,i=h;i;){for(u=0;s>u;u++)if(f=y[u],c=0,i===h&&b>Math.abs(f.x-e)&&b>Math.abs(f.y-o)||n.data(i,k)===f.touchID)return t.preventDefault(),t.stopPropagation(),r;i=i.parentNode}},!0)}(n,t,i),function(n,t,r){function u(t,i,r){var u=r.type;r.type=i;n.event.dispatch.call(t,r);r.type=u}var e=n(i);n.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,i){n.fn[i]=function(n){return n?this.bind(i,n):this.trigger(i)};n.attrFn&&(n.attrFn[i]=!0)});var f=n.mobile.support.touch,s="touchmove scroll",h=f?"touchstart":"mousedown",c=f?"touchend":"mouseup",o=f?"touchmove":"mousemove";n.event.special.scrollstart={enabled:!0,setup:function(){function i(n,i){t=i;u(f,t?"scrollstart":"scrollstop",n)}var t,r,f=this,e=n(f);e.bind(s,function(u){n.event.special.scrollstart.enabled&&(t||i(u,!0),clearTimeout(r),r=setTimeout(function(){i(u,!1)},50))})}};n.event.special.tap={tapholdThreshold:750,setup:function(){var t=this,i=n(t);i.bind("vmousedown",function(r){function f(){clearTimeout(h)}function o(){f();i.unbind("vclick",s).unbind("vmouseup",f);e.unbind("vmousecancel",o)}function s(n){o();c===n.target&&u(t,"tap",n)}if(r.which&&1!==r.which)return!1;var h,c=r.target;r.originalEvent;i.bind("vmouseup",f).bind("vclick",s);e.bind("vmousecancel",o);h=setTimeout(function(){u(t,"taphold",n.Event("taphold",{target:c}))},n.event.special.tap.tapholdThreshold)})}};n.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,start:function(t){var i=t.originalEvent.touches?t.originalEvent.touches[0]:t;return{time:(new Date).getTime(),coords:[i.pageX,i.pageY],origin:n(t.target)}},stop:function(n){var t=n.originalEvent.touches?n.originalEvent.touches[0]:n;return{time:(new Date).getTime(),coords:[t.pageX,t.pageY]}},handleSwipe:function(t,i){i.time-t.time<n.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-i.coords[0])>n.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-i.coords[1])<n.event.special.swipe.verticalDistanceThreshold&&t.origin.trigger("swipe").trigger(t.coords[0]>i.coords[0]?"swipeleft":"swiperight")},setup:function(){var i=this,t=n(i);t.bind(h,function(i){function e(t){f&&(u=n.event.special.swipe.stop(t),Math.abs(f.coords[0]-u.coords[0])>n.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())}var u,f=n.event.special.swipe.start(i);t.bind(o,e).one(c,function(){t.unbind(o,e);f&&u&&n.event.special.swipe.handleSwipe(f,u);f=u=r})})}};n.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(t,i){n.event.special[t]={setup:function(){n(this).bind(i,n.noop)}}})}(n,this),function(n){n.event.special.throttledresize={setup:function(){n(this).bind("resize",u)},teardown:function(){n(this).unbind("resize",u)}};var t,i,r,f=250,u=function(){i=(new Date).getTime();r=i-e;r>=f?(e=i,n(this).trigger("throttledresize")):(t&&clearTimeout(t),t=setTimeout(u,f-r))},e=0}(n),function(n,t){function l(){var n=e();n!==o&&(o=n,u.trigger(f))}var e,o,s,h,u=n(t),f="orientationchange",c={0:!0,180:!0};if(n.support.orientation){var a=t.innerWidth||u.width(),v=t.innerHeight||u.height();s=a>v&&a-v>50;h=c[t.orientation];(s&&h||!s&&!h)&&(c={"-90":!0,90:!0})}n.event.special.orientationchange=n.extend({},n.event.special.orientationchange,{setup:function(){return n.support.orientation&&!n.event.special.orientationchange.disabled?!1:(o=e(),u.bind("throttledresize",l),r)},teardown:function(){return n.support.orientation&&!n.event.special.orientationchange.disabled?!1:(u.unbind("throttledresize",l),r)},add:function(n){var t=n.handler;n.handler=function(n){return n.orientation=e(),t.apply(this,arguments)}}});n.event.special.orientationchange.orientation=e=function(){var u=!0,r=i.documentElement;return u=n.support.orientation?c[t.orientation]:r&&1.1>r.clientWidth/r.clientHeight,u?"portrait":"landscape"};n.fn[f]=function(n){return n?this.bind(f,n):this.trigger(f)};n.attrFn&&(n.attrFn[f]=!0)}(n,this),function(n){n.widget("mobile.page",n.mobile.widget,{options:{theme:"c",domCache:!1,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){return this._trigger("beforecreate")===!1?!1:(this.element.attr("tabindex","0").addClass("ui-page ui-body-"+this.options.theme),this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"}),r)},_handlePageBeforeShow:function(){this.setContainerBackground()},removeContainerBackground:function(){n.mobile.pageContainer.removeClass("ui-overlay-"+n.mobile.getInheritedTheme(this.element.parent()))},setContainerBackground:function(t){this.options.theme&&n.mobile.pageContainer.addClass("ui-overlay-"+(t||this.options.theme))},keepNativeSelector:function(){var t=this.options,i=t.keepNative&&n.trim(t.keepNative);return i&&t.keepNative!==t.keepNativeDefault?[t.keepNative,t.keepNativeDefault].join(", "):t.keepNativeDefault}})}(n),function(n,t,i){var r=function(r){return r===i&&(r=!0),function(i,u,f,e){var c=new n.Deferred,l=u?" reverse":"",k=n.mobile.urlHistory.getActive(),o=k.lastScroll||n.mobile.defaultHomeScroll,a=n.mobile.getScreenHeight(),d=n.mobile.maxTransitionWidth!==!1&&n.mobile.window.width()>n.mobile.maxTransitionWidth,s=!n.support.cssTransitions||d||!i||"none"===i||Math.max(n.mobile.window.scrollTop(),o)>n.mobile.getMaxScrollForTransition(),v=" ui-page-pre-in",y=function(){n.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+i)},p=function(){n.event.special.scrollstart.enabled=!1;t.scrollTo(0,o);setTimeout(function(){n.event.special.scrollstart.enabled=!0},150)},w=function(){e.removeClass(n.mobile.activePageClass+" out in reverse "+i).height("")},g=function(){r?e.animationComplete(h):h();e.height(a+n.mobile.window.scrollTop()).addClass(i+" out"+l)},h=function(){e&&r&&w();nt()},nt=function(){f.css("z-index",-10);f.addClass(n.mobile.activePageClass+v);n.mobile.focusPage(f);f.height(a+o);p();f.css("z-index","");s||f.animationComplete(b);f.removeClass(v).addClass(i+" in"+l);s&&b()},b=function(){r||e&&w();f.removeClass("out in reverse "+i).height("");y();n.mobile.window.scrollTop()!==o&&p();c.resolve(i,u,f,e,!0)};return y(),e&&!s?g():h(),c.promise()}},u=r(),f=r(!1),e=function(){return 3*n.mobile.getScreenHeight()};n.mobile.defaultTransitionHandler=u;n.mobile.transitionHandlers={"default":n.mobile.defaultTransitionHandler,sequential:u,simultaneous:f};n.mobile.transitionFallbacks={};n.mobile._maybeDegradeTransition=function(t){return t&&!n.support.cssTransform3d&&n.mobile.transitionFallbacks[t]&&(t=n.mobile.transitionFallbacks[t]),t};n.mobile.getMaxScrollForTransition=n.mobile.getMaxScrollForTransition||e}(n,this),function(n,r){function p(t){c&&(!c.closest("."+n.mobile.activePageClass).length||t)&&c.removeClass(n.mobile.activeBtnClass);c=null}function g(){v=!1;d.length>0&&n.mobile.changePage.apply(null,d.pop())}function et(t,i,r,u){i&&i.data("mobile-page")._trigger("beforehide",null,{nextPage:t});t.data("mobile-page")._trigger("beforeshow",null,{prevPage:i||n("")});n.mobile.hidePageLoadingMsg();r=n.mobile._maybeDegradeTransition(r);var e=n.mobile.transitionHandlers[r||"default"]||n.mobile.defaultTransitionHandler,f=e(r,u,t,i);return f.done(function(){i&&i.data("mobile-page")._trigger("hide",null,{nextPage:t});t.data("mobile-page")._trigger("show",null,{prevPage:i||n("")})}),f}function k(t,i){i&&t.attr("data-"+n.mobile.ns+"role",i);t.page()}function nt(){var t=n.mobile.activePage&&w(n.mobile.activePage);return t||h.hrefNoHash}function tt(n){for(;n&&("string"!=typeof n.nodeName||"a"!==n.nodeName.toLowerCase());)n=n.parentNode;return n}function w(t){var i=n(t).closest(".ui-page").jqmData("url"),r=h.hrefNoHash;return i&&u.isPath(i)||(i=r),u.makeUrlAbsolute(i,r)}var o=n.mobile.window,it=(n("html"),n("head")),u=n.extend(n.mobile.path,{getFilePath:function(t){var i="&"+n.mobile.subPageUrlKey;return t&&t.split(i)[0].split(s)[0]},isFirstPageUrl:function(t){var i=u.parseUrl(u.makeUrlAbsolute(t,this.documentBase)),o=i.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&i.hrefNoHash===this.documentBase.hrefNoHash,f=n.mobile.firstPage,e=f&&f[0]?f[0].id:r;return o&&(!i.hash||"#"===i.hash||e&&i.hash.replace(/^#/,"")===e)},isPermittedCrossDomainRequest:function(t,i){return n.mobile.allowCrossDomainPages&&"file:"===t.protocol&&-1!==i.search(/^https?:/)}}),a=null,c=null,rt=n.Deferred(),f=n.mobile.navigate.history,d=[],v=!1,s="&ui-state=dialog",ut=it.children("base"),l=u.documentUrl,h=u.documentBase,ot=(u.documentBaseDiffers,n.mobile.getScreenHeight),e=n.support.dynamicBaseTag?{element:ut.length?ut:n("<base>",{href:h.hrefNoHash}).prependTo(it),set:function(n){n=u.parseUrl(n).hrefNoHash;e.element.attr("href",u.makeUrlAbsolute(n,h))},reset:function(){e.element.attr("href",h.hrefNoSearch)}}:r,ft,b,y;n.mobile.getDocumentUrl=u.getDocumentUrl;n.mobile.getDocumentBase=u.getDocumentBase;n.mobile.back=function(){var n=t.navigator;this.phonegapNavigationEnabled&&n&&n.app&&n.app.backHistory?n.app.backHistory():t.history.back()};n.mobile.focusPage=function(n){var t=n.find("[autofocus]"),i=n.find(".ui-title:eq(0)");return t.length?(t.focus(),r):(i.length?i.focus():n.focus(),r)};y=!0;ft=function(){var t,i;y&&(t=n.mobile.urlHistory.getActive(),t&&(i=o.scrollTop(),t.lastScroll=n.mobile.minScrollBack>i?n.mobile.defaultHomeScroll:i))};b=function(){setTimeout(ft,100)};o.bind(n.support.pushState?"popstate":"hashchange",function(){y=!1});o.one(n.support.pushState?"popstate":"hashchange",function(){y=!0});o.one("pagecontainercreate",function(){n.mobile.pageContainer.bind("pagechange",function(){y=!0;o.unbind("scrollstop",b);o.bind("scrollstop",b)})});o.bind("scrollstop",b);n.mobile._maybeDegradeTransition=n.mobile._maybeDegradeTransition||function(n){return n};n.mobile.resetActivePageHeight=function(t){var i=n("."+n.mobile.activePageClass),r=parseFloat(i.css("padding-top")),u=parseFloat(i.css("padding-bottom")),f=parseFloat(i.css("border-top-width")),e=parseFloat(i.css("border-bottom-width"));t="number"==typeof t?t:ot();i.css("min-height",t-r-u-f-e)};n.fn.animationComplete=function(t){return n.support.cssTransitions?n(this).one("webkitAnimationEnd animationend",t):(setTimeout(t,0),n(this))};n.mobile.path=u;n.mobile.base=e;n.mobile.urlHistory=f;n.mobile.dialogHashKey=s;n.mobile.allowCrossDomainPages=!1;n.mobile._bindPageRemove=function(){var t=n(this);!t.data("mobile-page").options.domCache&&t.is(":jqmData(external-page='true')")&&t.bind("pagehide.remove",function(){var t=n(this),i=new n.Event("pageremove");t.trigger(i);i.isDefaultPrevented()||t.removeWithDependents()})};n.mobile.loadPage=function(t,i){var h=n.Deferred(),f=n.extend({},n.mobile.loadPage.defaults,i),o=null,p=null,s=u.makeUrlAbsolute(t,nt()),v,c,b,y;if(f.data&&"get"===f.type&&(s=u.addSearchParams(s,f.data),f.data=r),f.data&&"post"===f.type&&(f.reloadPage=!0),v=u.getFilePath(s),c=u.convertUrlToDataUrl(s),f.pageContainer=f.pageContainer||n.mobile.pageContainer,o=f.pageContainer.children("[data-"+n.mobile.ns+"url='"+c+"']"),0===o.length&&c&&!u.isPath(c)&&(o=f.pageContainer.children("#"+c).attr("data-"+n.mobile.ns+"url",c).jqmData("url",c)),0===o.length)if(n.mobile.firstPage&&u.isFirstPageUrl(v))n.mobile.firstPage.parent().length&&(o=n(n.mobile.firstPage));else if(u.isEmbeddedPage(v))return h.reject(s,i),h.promise();if(o.length){if(!f.reloadPage)return k(o,f.role),h.resolve(s,i,o),e&&!i.prefetch&&e.set(t),h.promise();p=o}var d=f.pageContainer,w=new n.Event("pagebeforeload"),a={url:t,absUrl:s,dataUrl:c,deferred:h,options:f};return(d.trigger(w,a),w.isDefaultPrevented())?h.promise():(f.showLoadMsg&&(b=setTimeout(function(){n.mobile.showPageLoadingMsg()},f.loadMsgDelay),y=function(){clearTimeout(b);n.mobile.hidePageLoadingMsg()}),e&&i.prefetch===r&&e.reset(),n.mobile.allowCrossDomainPages||u.isSameDomain(l,s)?n.ajax({url:v,type:f.type,data:f.data,contentType:f.contentType,dataType:"html",success:function(l,w,b){var g=n("<div><\/div>"),d=l.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,tt=RegExp("(<[^>]+\\bdata-"+n.mobile.ns+"role=[\"']?page[\"']?[^>]*>)"),it=RegExp("\\bdata-"+n.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?"),nt;(tt.test(l)&&RegExp.$1&&it.test(RegExp.$1)&&RegExp.$1&&(t=v=u.getFilePath(n("<div>"+RegExp.$1+"<\/div>").text())),e&&i.prefetch===r&&e.set(v),g.get(0).innerHTML=l,o=g.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),o.length||(o=n("<div data-"+n.mobile.ns+"role='page'>"+(l.split(/<\/?body[^>]*>/gim)[1]||"")+"<\/div>")),d&&!o.jqmData("title")&&(~d.indexOf("&")&&(d=n("<div>"+d+"<\/div>").text()),o.jqmData("title",d)),n.support.dynamicBaseTag)||(nt=u.get(v),o.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var i=n(this).is("[href]")?"href":n(this).is("[src]")?"src":"action",t=n(this).attr(i);t=t.replace(location.protocol+"//"+location.host+location.pathname,"");/^(\w+:|#|\/)/.test(t)||n(this).attr(i,nt+t)}));o.attr("data-"+n.mobile.ns+"url",u.convertUrlToDataUrl(v)).attr("data-"+n.mobile.ns+"external-page",!0).appendTo(f.pageContainer);o.one("pagecreate",n.mobile._bindPageRemove);k(o,f.role);s.indexOf("&"+n.mobile.subPageUrlKey)>-1&&(o=f.pageContainer.children("[data-"+n.mobile.ns+"url='"+c+"']"));f.showLoadMsg&&y();a.xhr=b;a.textStatus=w;a.page=o;f.pageContainer.trigger("pageload",a);h.resolve(s,i,o,p)},error:function(t,r,o){e&&e.set(u.get());a.xhr=t;a.textStatus=r;a.errorThrown=o;var c=new n.Event("pageloadfailed");f.pageContainer.trigger(c,a);c.isDefaultPrevented()||(f.showLoadMsg&&(y(),n.mobile.showPageLoadingMsg(n.mobile.pageLoadErrorMessageTheme,n.mobile.pageLoadErrorMessage,!0),setTimeout(n.mobile.hidePageLoadingMsg,1500)),h.reject(s,i))}}):h.reject(s,i),h.promise())};n.mobile.loadPage.defaults={type:"get",data:r,reloadPage:!1,role:r,showLoadMsg:!1,pageContainer:r,loadMsgDelay:50};n.mobile.changePage=function(t,e){var w,o,tt,ut,ft;if(v)return d.unshift(arguments),r;o=n.extend({},n.mobile.changePage.defaults,e);o.pageContainer=o.pageContainer||n.mobile.pageContainer;o.fromPage=o.fromPage||n.mobile.activePage;w="string"==typeof t;var it=o.pageContainer,ot=new n.Event("pagebeforechange"),c={toPage:t,options:o};if(c.absUrl=w?u.makeUrlAbsolute(t,nt()):t.data("absUrl"),it.trigger(ot,c),!ot.isDefaultPrevented()){if(t=c.toPage,w="string"==typeof t,v=!0,w)return o.target=t,n.mobile.loadPage(t,o).done(function(t,i,r,u){v=!1;i.duplicateCachedPage=u;r.data("absUrl",c.absUrl);n.mobile.changePage(r,i)}).fail(function(){p(!0);g();o.pageContainer.trigger("pagechangefailed",c)}),r;t[0]!==n.mobile.firstPage[0]||o.dataUrl||(o.dataUrl=l.hrefNoHash);var rt=o.fromPage,h=o.dataUrl&&u.convertUrlToDataUrl(o.dataUrl)||t.jqmData("url"),st=h,a=(u.getFilePath(h),f.getActive()),ct=0===f.activeIndex,b=0,y=i.title,ht="dialog"===o.role||"dialog"===t.jqmData("role");if(rt&&rt[0]===t[0]&&!o.allowSamePageTransition)return v=!1,it.trigger("pagechange",c),o.fromHashChange&&f.direct({url:h}),r;k(t,o.role);o.fromHashChange&&(b="back"===e.direction?-1:1);try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()?n(i.activeElement).blur():n("input:focus, textarea:focus, select:focus").blur()}catch(lt){}tt=!1;ht&&a&&(a.url&&a.url.indexOf(s)>-1&&n.mobile.activePage&&!n.mobile.activePage.is(".ui-dialog")&&f.activeIndex>0&&(o.changeHash=!1,tt=!0),h=a.url||"",h+=!tt&&h.indexOf("#")>-1?s:"#"+s,0===f.activeIndex&&h===f.initialDst&&(h+=s));ut=a?t.jqmData("title")||t.children(":jqmData(role='header')").find(".ui-title").text():y;(ut&&y===i.title&&(y=ut),t.jqmData("title")||t.jqmData("title",y),o.transition=o.transition||(b&&!ct?a.transition:r)||(ht?n.mobile.defaultDialogTransition:n.mobile.defaultPageTransition),!b&&tt&&(f.getActive().pageUrl=st),h&&!o.fromHashChange)&&(!u.isPath(h)&&0>h.indexOf("#")&&(h="#"+h),ft={transition:o.transition,title:y,pageUrl:st,role:o.role},o.changeHash!==!1&&n.mobile.hashListeningEnabled?n.mobile.navigate(h,ft,!0):t[0]!==n.mobile.firstPage[0]&&n.mobile.navigate.history.add(h,ft));i.title=y;n.mobile.activePage=t;o.reverse=o.reverse||0>b;et(t,rt,o.transition,o.reverse).done(function(i,r,u,f,e){p();o.duplicateCachedPage&&o.duplicateCachedPage.remove();e||n.mobile.focusPage(t);g();it.trigger("pagechange",c)})}};n.mobile.changePage.defaults={transition:r,reverse:!1,changeHash:!0,fromHashChange:!1,role:r,duplicateCachedPage:r,pageContainer:r,showLoadMsg:!0,dataUrl:r,fromPage:r,allowSamePageTransition:!1};n.mobile.navreadyDeferred=n.Deferred();n.mobile._registerInternalEvents=function(){var i=function(t,i){var f,o,e,s,c=!0;return!n.mobile.ajaxEnabled||t.is(":jqmData(ajax='false')")||!t.jqmHijackable().length||t.attr("target")?!1:(f=t.attr("action"),s=(t.attr("method")||"get").toLowerCase(),f||(f=w(t),"get"===s&&(f=u.parseUrl(f).hrefNoSearch),f===h.hrefNoHash&&(f=l.hrefNoSearch)),f=u.makeUrlAbsolute(f,w(t)),u.isExternal(f)&&!u.isPermittedCrossDomainRequest(l,f)?!1:(i||(o=t.serializeArray(),a&&a[0].form===t[0]&&(e=a.attr("name"),e&&(n.each(o,function(n,t){return t.name===e?(e="",!1):r}),e&&o.push({name:e,value:a.attr("value")}))),c={url:f,options:{type:s,data:n.param(o),transition:t.jqmData("transition"),reverse:"reverse"===t.jqmData("direction"),reloadPage:!0}}),c))};n.mobile.document.delegate("form","submit",function(t){var r=i(n(this));r&&(n.mobile.changePage(r.url,r.options),t.preventDefault())});n.mobile.document.bind("vclick",function(t){var f,e,r=t.target,o=!1;if(!(t.which>1)&&n.mobile.linkBindingEnabled){if(a=n(r),n.data(r,"mobile-button")){if(!i(n(r).closest("form"),!0))return;r.parentNode&&(r=r.parentNode)}else{if(r=tt(r),!r||"#"===u.parseUrl(r.getAttribute("href")||"#").hash)return;if(!n(r).jqmHijackable().length)return}~r.className.indexOf("ui-link-inherit")?r.parentNode&&(e=n.data(r.parentNode,"buttonElements")):e=n.data(r,"buttonElements");e?r=e.outer:o=!0;f=n(r);o&&(f=f.closest(".ui-btn"));f.length>0&&!f.hasClass("ui-disabled")&&(p(!0),c=f,c.addClass(n.mobile.activeBtnClass))}});n.mobile.document.bind("click",function(i){var o,s,f,h,e,c,a;if(n.mobile.linkBindingEnabled&&!i.isDefaultPrevented()&&(s=tt(i.target),f=n(s),s&&!(i.which>1)&&f.jqmHijackable().length)){if(o=function(){t.setTimeout(function(){p(!0)},200)},f.is(":jqmData(rel='back')"))return n.mobile.back(),!1;if(h=w(f),e=u.makeUrlAbsolute(f.attr("href")||"#",h),!n.mobile.ajaxEnabled&&!u.isEmbeddedPage(e))return o(),r;if(-1!==e.search("#")){if(e=e.replace(/[^#]*#/,""),!e)return i.preventDefault(),r;e=u.isPath(e)?u.makeUrlAbsolute(e,h):u.makeUrlAbsolute("#"+e,l.hrefNoHash)}if(c=f.is("[rel='external']")||f.is(":jqmData(ajax='false')")||f.is("[target]"),a=c||u.isExternal(e)&&!u.isPermittedCrossDomainRequest(l,e),a)return o(),r;var v=f.jqmData("transition"),y="reverse"===f.jqmData("direction")||f.jqmData("back"),b=f.attr("data-"+n.mobile.ns+"rel")||r;n.mobile.changePage(e,{transition:v,reverse:y,role:b,link:f});i.preventDefault()}});n.mobile.document.delegate(".ui-page","pageshow.prefetch",function(){var t=[];n(this).find("a:jqmData(prefetch)").each(function(){var r=n(this),i=r.attr("href");i&&-1===n.inArray(i,t)&&(t.push(i),n.mobile.loadPage(i,{role:r.attr("data-"+n.mobile.ns+"rel"),prefetch:!0}))})});n.mobile._handleHashChange=function(i,e){var o=u.stripHash(i),a=0===n.mobile.urlHistory.stack.length?"none":r,c={changeHash:!1,fromHashChange:!0,reverse:"back"===e.direction},l;if(n.extend(c,e,{transition:(f.getLast()||{}).transition||a}),f.activeIndex>0&&o.indexOf(s)>-1&&f.initialDst!==o){if(n.mobile.activePage&&!n.mobile.activePage.is(".ui-dialog"))return"back"===e.direction?n.mobile.back():t.history.forward(),r;o=e.pageUrl;l=n.mobile.urlHistory.getActive();n.extend(c,{role:l.role,transition:l.transition,reverse:"back"===e.direction})}o?(o=u.isPath(o)?o:u.makeUrlAbsolute("#"+o,h),o===u.makeUrlAbsolute("#"+f.initialDst,h)&&f.stack.length&&f.stack[0].url!==f.initialDst.replace(s,"")&&(o=n.mobile.firstPage),n.mobile.changePage(o,c)):n.mobile.changePage(n.mobile.firstPage,c)};o.bind("navigate",function(t,i){var r;t.originalEvent&&t.originalEvent.isDefaultPrevented()||(r=n.event.special.navigate.originalEventName.indexOf("hashchange")>-1?i.state.hash:i.state.url,r||(r=n.mobile.path.parseLocation().hash),r&&"#"!==r&&0!==r.indexOf("#"+n.mobile.path.uiStateKey)||(r=location.href),n.mobile._handleHashChange(r,i.state))});n.mobile.document.bind("pageshow",n.mobile.resetActivePageHeight);n.mobile.window.bind("throttledresize",n.mobile.resetActivePageHeight)};n(function(){rt.resolve()});n.when(rt,n.mobile.navreadyDeferred).done(function(){n.mobile._registerInternalEvents()})}(n),function(n){n.mobile.transitionFallbacks.flip="fade"}(n,this),function(n){n.mobile.transitionFallbacks.flow="fade"}(n,this),function(n){n.mobile.transitionFallbacks.pop="fade"}(n,this),function(n){n.mobile.transitionHandlers.slide=n.mobile.transitionHandlers.simultaneous;n.mobile.transitionFallbacks.slide="fade"}(n,this),function(n){n.mobile.transitionFallbacks.slidedown="fade"}(n,this),function(n){n.mobile.transitionFallbacks.slidefade="fade"}(n,this),function(n){n.mobile.transitionFallbacks.slideup="fade"}(n,this),function(n){n.mobile.transitionFallbacks.turn="fade"}(n,this),function(n){n.mobile.page.prototype.options.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1};n.mobile.document.bind("pagecreate create",function(t){var i,r=n.mobile.closestPageData(n(t.target));r&&(i=r.options,n(t.target).find("input").not(r.keepNativeSelector()).each(function(){var r=n(this),t=this.getAttribute("type"),e=i.degradeInputs[t]||"text";if(i.degradeInputs[t]){var u=n("<div>").html(r.clone()).html(),f=u.indexOf(" type=")>-1,o=f?/\s+type=["']?\w+['"]?/:/\/?>/,s=' type="'+e+'" data-'+n.mobile.ns+'type="'+t+'"'+(f?"":">");r.replaceWith(u.replace(o,s))}}))})}(n),function(n){n.widget("mobile.dialog",n.mobile.widget,{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0,initSelector:":jqmData(role='dialog')"},_handlePageBeforeShow:function(){this._isCloseable=!0;this.options.overlayTheme&&this.element.page("removeContainerBackground").page("setContainerBackground",this.options.overlayTheme)},_create:function(){var t=this.element,i=this.options.corners?" ui-corner-all":"",r=n("<div/>",{role:"dialog","class":"ui-dialog-contain ui-overlay-shadow"+i});t.addClass("ui-dialog ui-overlay-"+this.options.overlayTheme);t.wrapInner(r);t.bind("vclick submit",function(t){var r,i=n(t.target).closest("vclick"===t.type?"a":"form");i.length&&!i.jqmData("transition")&&(r=n.mobile.urlHistory.getActive()||{},i.attr("data-"+n.mobile.ns+"transition",r.transition||n.mobile.defaultDialogTransition).attr("data-"+n.mobile.ns+"direction","reverse"))});this._on(t,{pagebeforeshow:"_handlePageBeforeShow"});n.extend(this,{_createComplete:!1});this._setCloseBtn(this.options.closeBtn)},_setCloseBtn:function(t){var i,r,u=this;this._headerCloseButton&&(this._headerCloseButton.remove(),this._headerCloseButton=null);"none"!==t&&(r="left"===t?"left":"right",i=n("<a href='#' class='ui-btn-"+r+"' data-"+n.mobile.ns+"icon='delete' data-"+n.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"<\/a>"),this.element.children().find(":jqmData(role='header')").first().prepend(i),this._createComplete&&n.fn.buttonMarkup&&i.buttonMarkup(),this._createComplete=!0,i.bind("click",function(){u.close()}),this._headerCloseButton=i)},_setOption:function(n,t){"closeBtn"===n&&this._setCloseBtn(t);this._super(n,t)},close:function(){var r,i,t=n.mobile.navigate.history;this._isCloseable&&(this._isCloseable=!1,n.mobile.hashListeningEnabled&&t.activeIndex>0?n.mobile.back():(r=Math.max(0,t.activeIndex-1),i=t.stack[r].pageUrl||t.stack[r].url,t.previousIndex=t.activeIndex,t.activeIndex=r,n.mobile.path.isPath(i)||(i=n.mobile.path.makeUrlAbsolute("#"+i)),n.mobile.changePage(i,{direction:"back",changeHash:!1,fromHashChange:!0})))}});n.mobile.document.delegate(n.mobile.dialog.prototype.options.initSelector,"pagecreate",function(){n.mobile.dialog.prototype.enhance(this)})}(n,this),function(n){n.mobile.page.prototype.options.backBtnText="Back";n.mobile.page.prototype.options.addBackBtn=!1;n.mobile.page.prototype.options.backBtnTheme=null;n.mobile.page.prototype.options.headerTheme="a";n.mobile.page.prototype.options.footerTheme="a";n.mobile.page.prototype.options.contentTheme=null;n.mobile.document.bind("pagecreate",function(t){var r=n(t.target),i=r.data("mobile-page").options,f=r.jqmData("role"),u=i.theme;n(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",r).jqmEnhanceable().each(function(){var o,s,h,v,t=n(this),e=t.jqmData("role"),l=t.jqmData("theme"),a=l||i.contentTheme||"dialog"===f&&u,c;(t.addClass("ui-"+e),"header"===e||"footer"===e)?(c=l||("header"===e?i.headerTheme:i.footerTheme)||u,t.addClass("ui-bar-"+c).attr("role","header"===e?"banner":"contentinfo"),"header"===e&&(o=t.children("a, button"),s=o.hasClass("ui-btn-left"),h=o.hasClass("ui-btn-right"),s=s||o.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length,h=h||o.eq(1).addClass("ui-btn-right").length),i.addBackBtn&&"header"===e&&n(".ui-page").length>1&&r.jqmData("url")!==n.mobile.path.stripHash(location.hash)&&!s&&(v=n("<a href='javascript:void(0);' class='ui-btn-left' data-"+n.mobile.ns+"rel='back' data-"+n.mobile.ns+"icon='arrow-l'>"+i.backBtnText+"<\/a>").attr("data-"+n.mobile.ns+"theme",i.backBtnTheme||c).prependTo(t)),t.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})):"content"===e&&(a&&t.addClass("ui-body-"+a),t.attr("role","main"))})})}(n),function(n,t){function e(n){for(var t;n&&(t="string"==typeof n.className&&n.className+" ",!(t&&t.indexOf("ui-btn ")>-1&&0>t.indexOf("ui-disabled ")));)n=n.parentNode;return n}function u(r,u,f,e,o){var s=n.data(r[0],"buttonElements");r.removeClass(u).addClass(f);s&&(s.bcls=n(i.createElement("div")).addClass(s.bcls+" "+f).removeClass(u).attr("class"),e!==t&&(s.hover=e),s.state=o)}var r=function(n,i){var r=n.getAttribute(i);return"true"===r?!0:"false"===r?!1:null===r?t:r},f;n.fn.buttonMarkup=function(u){var p,g=this,c="data-"+n.mobile.ns,w;for(u=u&&"object"===n.type(u)?u:{},w=0;g.length>w;w++){var l,k,a,y,v,s,h=g.eq(w),o=h[0],e=n.extend({},n.fn.buttonMarkup.defaults,{icon:u.icon!==t?u.icon:r(o,c+"icon"),iconpos:u.iconpos!==t?u.iconpos:r(o,c+"iconpos"),theme:u.theme!==t?u.theme:r(o,c+"theme")||n.mobile.getInheritedTheme(h,"c"),inline:u.inline!==t?u.inline:r(o,c+"inline"),shadow:u.shadow!==t?u.shadow:r(o,c+"shadow"),corners:u.corners!==t?u.corners:r(o,c+"corners"),iconshadow:u.iconshadow!==t?u.iconshadow:r(o,c+"iconshadow"),mini:u.mini!==t?u.mini:r(o,c+"mini")},u),d=!1,b="up";for(p in e)e[p]===t||null===e[p]?h.removeAttr(c+p):o.setAttribute(c+p,e[p]);for("popup"===r(o,c+"rel")&&h.attr("href")&&(o.setAttribute("aria-haspopup",!0),o.setAttribute("aria-owns",h.attr("href"))),s=n.data("INPUT"===o.tagName||"BUTTON"===o.tagName?o.parentNode:o,"buttonElements"),s?(o=s.outer,h=n(o),a=s.inner,y=s.text,n(s.icon).remove(),s.icon=null,d=s.hover,b=s.state):(a=i.createElement(e.wrapperEls),y=i.createElement(e.wrapperEls)),v=e.icon?i.createElement("span"):null,f&&!s&&f(),e.theme||(e.theme=n.mobile.getInheritedTheme(h,"c")),l="ui-btn ",l+=d?"ui-btn-hover-"+e.theme:"",l+=b?" ui-btn-"+b+"-"+e.theme:"",l+=e.shadow?" ui-shadow":"",l+=e.corners?" ui-btn-corner-all":"",e.mini!==t&&(l+=e.mini===!0?" ui-mini":" ui-fullsize"),e.inline!==t&&(l+=e.inline===!0?" ui-btn-inline":" ui-btn-block"),e.icon&&(e.icon="ui-icon-"+e.icon,e.iconpos=e.iconpos||"left",k="ui-icon "+e.icon,e.iconshadow&&(k+=" ui-icon-shadow")),e.iconpos&&(l+=" ui-btn-icon-"+e.iconpos,"notext"!==e.iconpos||h.attr("title")||h.attr("title",h.getEncodedText())),s&&h.removeClass(s.bcls||""),h.removeClass("ui-link").addClass(l),a.className="ui-btn-inner",y.className="ui-btn-text",s||a.appendChild(y),v&&(v.className=k,s&&s.icon||(v.innerHTML="&#160;",a.appendChild(v)));o.firstChild&&!s;)y.appendChild(o.firstChild);s||o.appendChild(a);s={hover:d,state:b,bcls:l,outer:o,inner:a,text:y,icon:v};n.data(o,"buttonElements",s);n.data(a,"buttonElements",s);n.data(y,"buttonElements",s);v&&n.data(v,"buttonElements",s)}return this};n.fn.buttonMarkup.defaults={corners:!0,shadow:!0,iconshadow:!0,wrapperEls:"span"};f=function(){var i,r,o=n.mobile.buttonMarkup.hoverDelay;n.mobile.document.bind({"vmousedown vmousecancel vmouseup vmouseover vmouseout focus blur scrollstart":function(f){var s,h=n(e(f.target)),l=f.originalEvent&&/^touch/.test(f.originalEvent.type),c=f.type;h.length&&(s=h.attr("data-"+n.mobile.ns+"theme"),"vmousedown"===c?l?i=setTimeout(function(){u(h,"ui-btn-up-"+s,"ui-btn-down-"+s,t,"down")},o):u(h,"ui-btn-up-"+s,"ui-btn-down-"+s,t,"down"):"vmousecancel"===c||"vmouseup"===c?u(h,"ui-btn-down-"+s,"ui-btn-up-"+s,t,"up"):"vmouseover"===c||"focus"===c?l?r=setTimeout(function(){u(h,"ui-btn-up-"+s,"ui-btn-hover-"+s,!0,"")},o):u(h,"ui-btn-up-"+s,"ui-btn-hover-"+s,!0,""):("vmouseout"===c||"blur"===c||"scrollstart"===c)&&(u(h,"ui-btn-hover-"+s+" ui-btn-down-"+s,"ui-btn-up-"+s,!1,"up"),i&&clearTimeout(i),r&&clearTimeout(r)))},"focusin focus":function(t){n(e(t.target)).addClass(n.mobile.focusClass)},"focusout blur":function(t){n(e(t.target)).removeClass(n.mobile.focusClass)}});f=null};n.mobile.document.bind("pagecreate create",function(t){n(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",t.target).jqmEnhanceable().not("button, input, .ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})}(n),function(n,t){n.widget("mobile.collapsible",n.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",collapsedIcon:"plus",expandedIcon:"minus",iconpos:"left",theme:null,contentTheme:null,inset:!0,corners:!0,mini:!1,initSelector:":jqmData(role='collapsible')"},_create:function(){var f=this.element,i=this.options,o=f.addClass("ui-collapsible"),r=f.children(i.heading).first(),s=o.wrapInner("<div class='ui-collapsible-content'><\/div>").children(".ui-collapsible-content"),u=f.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set"),e="";r.is("legend")&&(r=n("<div role='heading'>"+r.html()+"<\/div>").insertBefore(r),r.next().remove());u.length?(i.theme||(i.theme=u.jqmData("theme")||n.mobile.getInheritedTheme(u,"c")),i.contentTheme||(i.contentTheme=u.jqmData("content-theme")),i.collapsedIcon=f.jqmData("collapsed-icon")||u.jqmData("collapsed-icon")||i.collapsedIcon,i.expandedIcon=f.jqmData("expanded-icon")||u.jqmData("expanded-icon")||i.expandedIcon,i.iconpos=f.jqmData("iconpos")||u.jqmData("iconpos")||i.iconpos,i.inset=u.jqmData("inset")!==t?u.jqmData("inset"):!0,i.corners=!1,i.mini||(i.mini=u.jqmData("mini"))):i.theme||(i.theme=n.mobile.getInheritedTheme(f,"c"));i.inset&&(e+=" ui-collapsible-inset",i.corners&&(e+=" ui-corner-all"));i.contentTheme&&(e+=" ui-collapsible-themed-content",s.addClass("ui-body-"+i.contentTheme));""!==e&&o.addClass(e);r.insertBefore(s).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'><\/span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'><\/a>").find("a").first().buttonMarkup({shadow:!1,corners:!1,iconpos:i.iconpos,icon:i.collapsedIcon,mini:i.mini,theme:i.theme});o.bind("expand collapse",function(t){if(!t.isDefaultPrevented()){var f=n(this),u="collapse"===t.type;t.preventDefault();r.toggleClass("ui-collapsible-heading-collapsed",u).find(".ui-collapsible-heading-status").text(u?i.expandCueText:i.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-"+i.expandedIcon,!u).toggleClass("ui-icon-"+i.collapsedIcon,u||i.expandedIcon===i.collapsedIcon).end().find("a").first().removeClass(n.mobile.activeBtnClass);f.toggleClass("ui-collapsible-collapsed",u);s.toggleClass("ui-collapsible-content-collapsed",u).attr("aria-hidden",u);s.trigger("updatelayout")}}).trigger(i.collapsed?"collapse":"expand");r.bind("tap",function(){r.find("a").first().addClass(n.mobile.activeBtnClass)}).bind("click",function(n){var t=r.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";o.trigger(t);n.preventDefault();n.stopPropagation()})}});n.mobile.document.bind("pagecreate create",function(t){n.mobile.collapsible.prototype.enhanceWithin(t.target)})}(n),function(n){n.mobile.behaviors.addFirstLastClasses={_getVisibles:function(n,t){var i;return t?i=n.not(".ui-screen-hidden"):(i=n.filter(":visible"),0===i.length&&(i=n.not(".ui-screen-hidden"))),i},_addFirstLastClasses:function(n,t,i){n.removeClass("ui-first-child ui-last-child");t.eq(0).addClass("ui-first-child").end().last().addClass("ui-last-child");i||this.element.trigger("updatelayout")}}}(n),function(n,t){n.widget("mobile.collapsibleset",n.mobile.widget,n.extend({options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var r=this.element.addClass("ui-collapsible-set"),i=this.options;i.theme||(i.theme=n.mobile.getInheritedTheme(r,"c"));i.contentTheme||(i.contentTheme=r.jqmData("content-theme"));i.corners||(i.corners=r.jqmData("corners"));r.jqmData("inset")!==t&&(i.inset=r.jqmData("inset"));i.inset=i.inset!==t?i.inset:!0;i.corners=i.corners!==t?i.corners:!0;i.corners&&i.inset&&r.addClass("ui-corner-all");r.jqmData("collapsiblebound")||r.jqmData("collapsiblebound",!0).bind("expand",function(t){var i=n(t.target).closest(".ui-collapsible");i.parent().is(":jqmData(role='collapsible-set')")&&i.siblings(".ui-collapsible").trigger("collapse")})},_init:function(){var n=this.element,t=n.children(":jqmData(role='collapsible')"),i=t.filter(":jqmData(collapsed='false')");this._refresh("true");i.trigger("expand")},_refresh:function(t){var i=this.element.children(":jqmData(role='collapsible')");n.mobile.collapsible.prototype.enhance(i.not(".ui-collapsible"));this._addFirstLastClasses(i,this._getVisibles(i,t),t)},refresh:function(){this._refresh(!1)}},n.mobile.behaviors.addFirstLastClasses));n.mobile.document.bind("pagecreate create",function(t){n.mobile.collapsibleset.prototype.enhanceWithin(t.target)})}(n),function(n){n.fn.fieldcontain=function(){return this.addClass("ui-field-contain ui-body ui-br").contents().filter(function(){return 3===this.nodeType&&!/\S/.test(this.nodeValue)}).remove()};n(i).bind("pagecreate create",function(t){n(":jqmData(role='fieldcontain')",t.target).jqmEnhanceable().fieldcontain()})}(n),function(n){n.fn.grid=function(t){return this.each(function(){var i,f=n(this),s=n.extend({grid:null},t),r=f.children(),e={solo:1,a:2,b:3,c:4,d:5},u=s.grid,o;if(!u)if(5>=r.length)for(o in e)e[o]===r.length&&(u=o);else u="a",f.addClass("ui-grid-duo");i=e[u];f.addClass("ui-grid-"+u);r.filter(":nth-child("+i+"n+1)").addClass("ui-block-a");i>1&&r.filter(":nth-child("+i+"n+2)").addClass("ui-block-b");i>2&&r.filter(":nth-child("+i+"n+3)").addClass("ui-block-c");i>3&&r.filter(":nth-child("+i+"n+4)").addClass("ui-block-d");i>4&&r.filter(":nth-child("+i+"n+5)").addClass("ui-block-e")})}}(n),function(n,t){n.widget("mobile.navbar",n.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var r=this.element,u=r.find("a"),f=u.filter(":jqmData(icon)").length?this.options.iconpos:t;r.addClass("ui-navbar ui-mini").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid});u.buttonMarkup({corners:!1,shadow:!1,inline:!0,iconpos:f});r.delegate("a","vclick",function(t){var f=n(t.target).is("a")?n(this):n(this).parent("a"),r;if(!f.is(".ui-disabled, .ui-btn-active")){u.removeClass(n.mobile.activeBtnClass);n(this).addClass(n.mobile.activeBtnClass);r=n(this);n(i).one("pagehide",function(){r.removeClass(n.mobile.activeBtnClass)})}});r.closest(".ui-page").bind("pagebeforeshow",function(){u.filter(".ui-state-persist").addClass(n.mobile.activeBtnClass)})}});n.mobile.document.bind("pagecreate create",function(t){n.mobile.navbar.prototype.enhanceWithin(t.target)})}(n),function(n){var t={};n.widget("mobile.listview",n.mobile.widget,n.extend({options:{theme:null,countTheme:"c",headerTheme:"b",dividerTheme:"b",icon:"arrow-r",splitIcon:"arrow-r",splitTheme:"b",corners:!0,shadow:!0,inset:!1,initSelector:":jqmData(role='listview')"},_create:function(){var n=this,t="";t+=n.options.inset?" ui-listview-inset":"";n.options.inset&&(t+=n.options.corners?" ui-corner-all":"",t+=n.options.shadow?" ui-shadow":"");n.element.addClass(function(n,i){return i+" ui-listview"+t});n.refresh(!0)},_findFirstElementByTagName:function(n,t,i,r){var u={};for(u[i]=u[r]=!0;n;){if(u[n.nodeName])return n;n=n[t]}return null},_getChildrenByTagName:function(t,i,r){var f=[],u={};for(u[i]=u[r]=!0,t=t.firstChild;t;)u[t.nodeName]&&f.push(t),t=t.nextSibling;return n(f)},_addThumbClasses:function(t){for(var i,u=t.length,r=0;u>r;r++)i=n(this._findFirstElementByTagName(t[r].firstChild,"nextSibling","img","IMG")),i.length&&(i.addClass("ui-li-thumb"),n(this._findFirstElementByTagName(i[0].parentNode,"parentNode","li","LI")).addClass(i.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb"))},refresh:function(t){var b,rt,k;this.parentPage=this.element.closest(".ui-page");this._createSubPages();var r,u,p,o,c,d,l,g,nt,tt,a,it,s=this.options,f=this.element,ut=f.jqmData("dividertheme")||s.dividerTheme,ft=f.jqmData("splittheme"),et=f.jqmData("spliticon"),ot=f.jqmData("icon"),v=this._getChildrenByTagName(f[0],"li","LI"),w=!!n.nodeName(f[0],"ol"),h=!n.support.cssPseudoElement,e=f.attr("start"),y={};for(w&&h&&f.find(".ui-li-dec").remove(),w&&(e||0===e?h?l=parseInt(e,10):(g=parseInt(e,10)-1,f.css("counter-reset","listnumbering "+g)):h&&(l=1)),s.theme||(s.theme=n.mobile.getInheritedTheme(this.element,"c")),b=0,rt=v.length;rt>b;b++)(r=v.eq(b),u="ui-li",t||!r.hasClass("ui-li"))&&(p=r.jqmData("theme")||s.theme,o=this._getChildrenByTagName(r[0],"a","A"),k="list-divider"===r.jqmData("role"),o.length&&!k?(a=r.jqmData("icon"),r.buttonMarkup({wrapperEls:"div",shadow:!1,corners:!1,iconpos:"right",icon:o.length>1||a===!1?!1:a||ot||s.icon,theme:p}),a!==!1&&1===o.length&&r.addClass("ui-li-has-arrow"),o.first().removeClass("ui-link").addClass("ui-link-inherit"),o.length>1&&(u+=" ui-li-has-alt",c=o.last(),d=ft||c.jqmData("theme")||s.splitTheme,it=c.jqmData("icon"),c.appendTo(r).attr("title",n.trim(c.getEncodedText())).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:!1,corners:!1,theme:p,icon:!1,iconpos:"notext"}).find(".ui-btn-inner").append(n(i.createElement("span")).buttonMarkup({shadow:!0,corners:!0,theme:d,iconpos:"notext",icon:it||a||et||s.splitIcon})))):k?(u+=" ui-li-divider ui-bar-"+(r.jqmData("theme")||ut),r.attr("role","heading"),w&&(e||0===e?h?l=parseInt(e,10):(nt=parseInt(e,10)-1,r.css("counter-reset","listnumbering "+nt)):h&&(l=1))):u+=" ui-li-static ui-btn-up-"+p),w&&h&&0>u.indexOf("ui-li-divider")&&(tt=u.indexOf("ui-li-static")>0?r:r.find(".ui-link-inherit"),tt.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+l+++". <\/span>")),y[u]||(y[u]=[]),y[u].push(r[0]);for(u in y)n(y[u]).addClass(u).children(".ui-btn-inner").addClass(u);f.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var t=n(this);t.prependTo(t.parent())}).end().find(".ui-li-count").each(function(){n(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(f.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all");this._addThumbClasses(v);this._addThumbClasses(f.find(".ui-link-inherit"));this._addFirstLastClasses(v,this._getVisibles(v,t),t);this._trigger("afterrefresh")},_idStringEscape:function(n){return n.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var c,f=this.element,u=f.closest(".ui-page"),e=u.jqmData("url"),o=e||u[0][n.expando],s=f.attr("id"),h=this.options,i="data-"+n.mobile.ns,v=this,l=u.find(":jqmData(role='footer')").jqmData("id"),a;(t[o]===r&&(t[o]=-1),s=s||++t[o],n(f.find("li>ul, li>ol").toArray().reverse()).each(function(t){var a,u,r=n(this),b=r.attr("id")||s+"-"+t,o=r.parent(),v=n(r.prevAll().toArray().reverse()),y=v.length?v:n("<span>"+n.trim(o.contents()[0].nodeValue)+"<\/span>"),p=y.first().getEncodedText(),w=(e||"")+"&"+n.mobile.subPageUrlKey+"="+b,k=r.jqmData("theme")||h.theme,d=r.jqmData("counttheme")||f.jqmData("counttheme")||h.countTheme;c=!0;a=r.detach().wrap("<div "+i+"role='page' "+i+"url='"+w+"' "+i+"theme='"+k+"' "+i+"count-theme='"+d+"'><div "+i+"role='content'><\/div><\/div>").parent().before("<div "+i+"role='header' "+i+"theme='"+h.headerTheme+"'><div class='ui-title'>"+p+"<\/div><\/div>").after(l?n("<div "+i+"role='footer' "+i+"id='"+l+"'>"):"").parent().appendTo(n.mobile.pageContainer);a.page();u=o.find("a:first");u.length||(u=n("<a/>").html(y||p).prependTo(o.empty()));u.attr("href","#"+w)}).listview(),c&&u.is(":jqmData(external-page='true')")&&u.data("mobile-page").options.domCache===!1)&&(a=function(t,i){var r,o=i.nextPage,f=new n.Event("pageremove");i.nextPage&&(r=o.jqmData("url"),0!==r.indexOf(e+"&"+n.mobile.subPageUrlKey)&&(v.childPages().remove(),u.trigger(f),f.isDefaultPrevented()||u.removeWithDependents()))},u.unbind("pagehide.remove").bind("pagehide.remove",a))},childPages:function(){var t=this.parentPage.jqmData("url");return n(":jqmData(url^='"+t+"&"+n.mobile.subPageUrlKey+"')")}},n.mobile.behaviors.addFirstLastClasses));n.mobile.document.bind("pagecreate create",function(t){n.mobile.listview.prototype.enhanceWithin(t.target)})}(n),function(n){var t=n("meta[name=viewport]"),i=t.attr("content"),u=i+",maximum-scale=1, user-scalable=no",f=i+",maximum-scale=10, user-scalable=yes",r=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(i);n.mobile.zoom=n.extend({},{enabled:!r,locked:!1,disable:function(i){r||n.mobile.zoom.locked||(t.attr("content",u),n.mobile.zoom.enabled=!1,n.mobile.zoom.locked=i||!1)},enable:function(i){r||n.mobile.zoom.locked&&i!==!0||(t.attr("content",f),n.mobile.zoom.enabled=!0,n.mobile.zoom.locked=!1)},restore:function(){r||(t.attr("content",i),n.mobile.zoom.enabled=!0)}})}(n),function(n){n.widget("mobile.textinput",n.mobile.widget,{options:{theme:null,mini:!1,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type]), input[type='file']",clearBtn:!1,clearSearchButtonText:null,clearBtnText:"clear text",disabled:!1},_create:function(){function h(){setTimeout(function(){e.toggleClass("ui-input-clear-hidden",!t.val())},0)}var u,e,w=this,t=this.element,i=this.options,c=i.theme||n.mobile.getInheritedTheme(this.element,"c"),o=" ui-body-"+c,s=i.mini?" ui-mini":"",f=t.is("[type='search'], :jqmData(type='search')"),l=i.clearSearchButtonText||i.clearBtnText,b=t.is("textarea, :jqmData(type='range')"),k=!!i.clearBtn&&!b,a=t.is("input")&&!t.is(":jqmData(type='range')"),v,y,p;(n("label[for='"+t.attr("id")+"']").addClass("ui-input-text"),u=t.addClass("ui-input-text ui-body-"+c),t[0].autocorrect===r||n.support.touchOverflow||(t[0].setAttribute("autocorrect","off"),t[0].setAttribute("autocomplete","off")),f?u=t.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+o+s+"'><\/div>").parent():a&&(u=t.wrap("<div class='ui-input-text ui-shadow-inset ui-corner-all ui-btn-shadow"+o+s+"'><\/div>").parent()),k||f?(e=n("<a href='#' class='ui-input-clear' title='"+l+"'>"+l+"<\/a>").bind("click",function(n){t.val("").focus().trigger("change");e.addClass("ui-input-clear-hidden");n.preventDefault()}).appendTo(u).buttonMarkup({icon:"delete",iconpos:"notext",corners:!0,shadow:!0,mini:i.mini}),f||u.addClass("ui-input-has-clear"),h(),t.bind("paste cut keyup input focus change blur",h)):a||f||t.addClass("ui-corner-all ui-shadow-inset"+o+s),t.focus(function(){i.preventFocusZoom&&n.mobile.zoom.disable(!0);u.addClass(n.mobile.focusClass)}).blur(function(){u.removeClass(n.mobile.focusClass);i.preventFocusZoom&&n.mobile.zoom.enable(!0)}),t.is("textarea"))&&(y=15,p=100,this._keyup=function(){var n=t[0].scrollHeight,i=t[0].clientHeight;if(n>i){var r=parseFloat(t.css("padding-top")),u=parseFloat(t.css("padding-bottom")),f=r+u;t.height(n-f+y)}},t.on("keyup change input paste",function(){clearTimeout(v);v=setTimeout(w._keyup,p)}),this._on(!0,n.mobile.document,{pagechange:"_keyup"}),n.trim(t.val())&&this._on(!0,n.mobile.window,{load:"_keyup"}));t.attr("disabled")&&this.disable()},disable:function(){var n,t=this.element.is("[type='search'], :jqmData(type='search')"),i=this.element.is("input")&&!this.element.is(":jqmData(type='range')"),r=this.element.attr("disabled",!0)&&(i||t);return n=r?this.element.parent():this.element,n.addClass("ui-disabled"),this._setOption("disabled",!0)},enable:function(){var n,t=this.element.is("[type='search'], :jqmData(type='search')"),i=this.element.is("input")&&!this.element.is(":jqmData(type='range')"),r=this.element.attr("disabled",!1)&&(i||t);return n=r?this.element.parent():this.element,n.removeClass("ui-disabled"),this._setOption("disabled",!1)}});n.mobile.document.bind("pagecreate create",function(t){n.mobile.textinput.prototype.enhanceWithin(t.target,!0)})}(n),function(n){n.mobile.listview.prototype.options.filter=!1;n.mobile.listview.prototype.options.filterPlaceholder="Filter items...";n.mobile.listview.prototype.options.filterTheme="c";n.mobile.listview.prototype.options.filterReveal=!1;var t=function(n,t){return-1===(""+n).toLowerCase().indexOf(t)};n.mobile.listview.prototype.options.filterCallback=t;n.mobile.document.delegate("ul, ol","listviewcreate",function(){var r=n(this),i=r.data("mobile-listview");if(i&&i.options.filter){i.options.filterReveal&&r.children().addClass("ui-screen-hidden");var u=n("<form>",{"class":"ui-listview-filter ui-bar-"+i.options.filterTheme,role:"search"}).submit(function(n){n.preventDefault();e.blur()}),f=function(){var f,c=n(this),e=this.value.toLowerCase(),u=null,l=r.children(),o=c.jqmData("lastval")+"",h=!1,a="",v=i.options.filterCallback!==t,s;if(!o||o!==e){if(i._trigger("beforefilter","beforefilter",{input:this}),c.jqmData("lastval",e),v||e.length<o.length||0!==e.indexOf(o)?u=r.children():(u=r.children(":not(.ui-screen-hidden)"),!u.length&&i.options.filterReveal&&(u=r.children(".ui-screen-hidden"))),e){for(s=u.length-1;s>=0;s--)f=n(u[s]),a=f.jqmData("filtertext")||f.text(),f.is("li:jqmData(role=list-divider)")?(f.toggleClass("ui-filter-hidequeue",!h),h=!1):i.options.filterCallback(a,e,f)?f.toggleClass("ui-filter-hidequeue",!0):h=!0;u.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",!1);u.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",!0).toggleClass("ui-filter-hidequeue",!1)}else u.toggleClass("ui-screen-hidden",!!i.options.filterReveal);i._addFirstLastClasses(l,i._getVisibles(l,!1),!1)}},e=n("<input>",{placeholder:i.options.filterPlaceholder}).attr("data-"+n.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change input",f).appendTo(u).textinput();i.options.inset&&u.addClass("ui-listview-filter-inset");u.bind("submit",function(){return!1}).insertBefore(r)}})}(n),function(n){n.mobile.listview.prototype.options.autodividers=!1;n.mobile.listview.prototype.options.autodividersSelector=function(t){var i=n.trim(t.text())||null;return i?i=i.slice(0,1).toUpperCase():null};n.mobile.document.delegate("ul,ol","listviewcreate",function(){var t=n(this),r=t.data("mobile-listview"),f,u;r&&r.options.autodividers&&(f=function(){var e;t.find("li:jqmData(role='list-divider')").remove();for(var f,u,s=t.find("li"),h=null,o=0;s.length>o;o++)(f=s[o],u=r.options.autodividersSelector(n(f)),u&&h!==u)&&(e=i.createElement("li"),e.appendChild(i.createTextNode(u)),e.setAttribute("data-"+n.mobile.ns+"role","list-divider"),f.parentNode.insertBefore(e,f)),h=u},u=function(){t.unbind("listviewafterrefresh",u);f();r.refresh();t.bind("listviewafterrefresh",u)},u())})}(n),function(n){n(i).bind("pagecreate create",function(t){n(":jqmData(role='nojs')",t.target).addClass("ui-nojs")})}(n),function(n){n.mobile.behaviors.formReset={_handleFormReset:function(){this._on(this.element.closest("form"),{reset:function(){this._delay("_reset")}})}}}(n),function(n){n.widget("mobile.checkboxradio",n.mobile.widget,n.extend({options:{theme:null,mini:!1,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var f=this,t=this.element,o=this.options,c=function(n,t){return n.jqmData(t)||n.closest("form, fieldset").jqmData(t)},l=n(t).closest("label"),e=l.length?l:n(t).closest("form, fieldset, :jqmData(role='page'), :jqmData(role='dialog')").find("label").filter("[for='"+t[0].id+"']").first(),u=t[0].type,v=c(t,"mini")||o.mini,a=u+"-on",s=u+"-off",y=c(t,"iconpos"),p="ui-"+a,w="ui-"+s,h;("checkbox"===u||"radio"===u)&&(n.extend(this,{label:e,inputtype:u,checkedClass:p,uncheckedClass:w,checkedicon:a,uncheckedicon:s}),o.theme||(o.theme=n.mobile.getInheritedTheme(this.element,"c")),e.buttonMarkup({theme:o.theme,icon:s,shadow:!1,mini:v,iconpos:y}),h=i.createElement("div"),h.className="ui-"+u,t.add(e).wrapAll(h),e.bind({vmouseover:function(t){n(this).parent().is(".ui-disabled")&&t.stopPropagation()},vclick:function(n){return t.is(":disabled")?(n.preventDefault(),r):(f._cacheVals(),t.prop("checked","radio"===u&&!0||!t.prop("checked")),t.triggerHandler("click"),f._getInputSet().not(t).prop("checked",!1),f._updateAll(),!1)}}),t.bind({vmousedown:function(){f._cacheVals()},vclick:function(){var t=n(this);t.is(":checked")?(t.prop("checked",!0),f._getInputSet().not(t).prop("checked",!1)):t.prop("checked",!1);f._updateAll()},focus:function(){e.addClass(n.mobile.focusClass)},blur:function(){e.removeClass(n.mobile.focusClass)}}),this._handleFormReset(),this.refresh())},_cacheVals:function(){this._getInputSet().each(function(){n(this).jqmData("cacheVal",this.checked)})},_getInputSet:function(){return"checkbox"===this.inputtype?this.element:this.element.closest("form, :jqmData(role='page'), :jqmData(role='dialog')").find("input[name='"+this.element[0].name+"'][type='"+this.inputtype+"']")},_updateAll:function(){var t=this;this._getInputSet().each(function(){var i=n(this);(this.checked||"checkbox"===t.inputtype)&&i.trigger("change")}).checkboxradio("refresh")},_reset:function(){this.refresh()},refresh:function(){var t=this.element[0],i=" "+n.mobile.activeBtnClass,r=this.checkedClass+(this.element.parents(".ui-controlgroup-horizontal").length?i:""),u=this.label;t.checked?u.removeClass(this.uncheckedClass+i).addClass(r).buttonMarkup({icon:this.checkedicon}):u.removeClass(r).addClass(this.uncheckedClass).buttonMarkup({icon:this.uncheckedicon});t.disabled?this.disable():this.enable()},disable:function(){this.element.prop("disabled",!0).parent().addClass("ui-disabled")},enable:function(){this.element.prop("disabled",!1).parent().removeClass("ui-disabled")}},n.mobile.behaviors.formReset));n.mobile.document.bind("pagecreate create",function(t){n.mobile.checkboxradio.prototype.enhanceWithin(t.target,!0)})}(n),function(n){n.widget("mobile.button",n.mobile.widget,{options:{theme:null,icon:null,iconpos:null,corners:!0,shadow:!0,iconshadow:!0,inline:null,mini:null,initSelector:"button, [type='button'], [type='submit'], [type='reset']"},_create:function(){var u,t=this.element,f=function(n){var t,i={};for(t in n)null!==n[t]&&"initSelector"!==t&&(i[t]=n[t]);return i}(this.options),i="";return"A"===t[0].tagName?(t.hasClass("ui-btn")||t.buttonMarkup(),r):(this.options.theme||(this.options.theme=n.mobile.getInheritedTheme(this.element,"c")),~t[0].className.indexOf("ui-btn-left")&&(i="ui-btn-left"),~t[0].className.indexOf("ui-btn-right")&&(i="ui-btn-right"),("submit"===t.attr("type")||"reset"===t.attr("type"))&&(i?i+=" ui-submit":i="ui-submit"),n("label[for='"+t.attr("id")+"']").addClass("ui-submit"),this.button=n("<div><\/div>")[t.html()?"html":"text"](t.html()||t.val()).insertBefore(t).buttonMarkup(f).addClass(i).append(t.addClass("ui-btn-hidden")),u=this.button,t.bind({focus:function(){u.addClass(n.mobile.focusClass)},blur:function(){u.removeClass(n.mobile.focusClass)}}),this.refresh(),r)},_setOption:function(t,i){var r={};r[t]=i;"initSelector"!==t&&(this.button.buttonMarkup(r),this.element.attr("data-"+(n.mobile.ns||"")+t.replace(/([A-Z])/,"-$1").toLowerCase(),i));this._super("_setOption",t,i)},enable:function(){return this.element.attr("disabled",!1),this.button.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.button.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)},refresh:function(){var t=this.element;t.prop("disabled")?this.disable():this.enable();n(this.button.data("buttonElements").text)[t.html()?"html":"text"](t.html()||t.val())}});n.mobile.document.bind("pagecreate create",function(t){n.mobile.button.prototype.enhanceWithin(t.target,!0)})}(n),function(n,r){n.widget("mobile.slider",n.mobile.widget,n.extend({widgetEventPrefix:"slide",options:{theme:null,trackTheme:null,disabled:!1,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",mini:!1,highlight:!1},_create:function(){var a,o,ut=this,u=this.element,y=n.mobile.getInheritedTheme(u,"c"),ft=this.options.theme||y,p=this.options.trackTheme||y,w=u[0].nodeName.toLowerCase(),b=(this.isToggleSwitch="select"===w,u.parent().is(":jqmData(role='rangeslider')")),et=this.isToggleSwitch?"ui-slider-switch":"",k=u.attr("id"),d=n("[for='"+k+"']"),g=d.attr("id")||k+"-label",ot=d.attr("id",g),nt=this.isToggleSwitch?0:parseFloat(u.attr("min")),tt=this.isToggleSwitch?u.find("option").length-1:parseFloat(u.attr("max")),st=t.parseFloat(u.attr("step")||1),ht=this.options.mini||u.jqmData("mini")?" ui-mini":"",h=i.createElement("a"),v=n(h),e=i.createElement("div"),f=n(e),ct=this.options.highlight&&!this.isToggleSwitch?function(){var t=i.createElement("div");return t.className="ui-slider-bg "+n.mobile.activeBtnClass+" ui-btn-corner-all",n(t).prependTo(f)}():!1,c,it,s,rt;if(h.setAttribute("href","#"),e.setAttribute("role","application"),e.className=[this.isToggleSwitch?"ui-slider ":"ui-slider-track ",et," ui-btn-down-",p," ui-btn-corner-all",ht].join(""),h.className="ui-slider-handle",e.appendChild(h),v.buttonMarkup({corners:!0,theme:ft,shadow:!0}).attr({role:"slider","aria-valuemin":nt,"aria-valuemax":tt,"aria-valuenow":this._value(),"aria-valuetext":this._value(),title:this._value(),"aria-labelledby":g}),n.extend(this,{slider:f,handle:v,type:w,step:st,max:tt,min:nt,valuebg:ct,isRangeslider:b,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1}),this.isToggleSwitch){for(o=i.createElement("div"),o.className="ui-slider-inneroffset",c=0,it=e.childNodes.length;it>c;c++)o.appendChild(e.childNodes[c]);for(e.appendChild(o),v.addClass("ui-slider-handle-snapping"),a=u.find("option"),s=0,rt=a.length;rt>s;s++){var lt=s?"a":"b",at=s?" "+n.mobile.activeBtnClass:" ui-btn-down-"+p,l=(i.createElement("div"),i.createElement("span"));l.className=["ui-slider-label ui-slider-label-",lt,at," ui-btn-corner-all"].join("");l.setAttribute("role","img");l.appendChild(i.createTextNode(a[s].innerHTML));n(l).prependTo(f)}ut._labels=n(".ui-slider-label",f)}ot.addClass("ui-slider");u.addClass(this.isToggleSwitch?"ui-slider-switch":"ui-slider-input");this._on(u,{change:"_controlChange",keyup:"_controlKeyup",blur:"_controlBlur",vmouseup:"_controlVMouseUp"});f.bind("vmousedown",n.proxy(this._sliderVMouseDown,this)).bind("vclick",!1);this._on(i,{vmousemove:"_preventDocumentDrag"});this._on(f.add(i),{vmouseup:"_sliderVMouseUp"});f.insertAfter(u);this.isToggleSwitch||b||(o=this.options.mini?"<div class='ui-slider ui-mini'>":"<div class='ui-slider'>",u.add(f).wrapAll(o));this.isToggleSwitch&&this.handle.bind({focus:function(){f.addClass(n.mobile.focusClass)},blur:function(){f.removeClass(n.mobile.focusClass)}});this._on(this.handle,{vmousedown:"_handleVMouseDown",keydown:"_handleKeydown",keyup:"_handleKeyup"});this.handle.bind("vclick",!1);this._handleFormReset();this.refresh(r,r,!0)},_controlChange:function(n){return this._trigger("controlchange",n)===!1?!1:(this.mouseMoved||this.refresh(this._value(),!0),r)},_controlKeyup:function(){this.refresh(this._value(),!0,!0)},_controlBlur:function(){this.refresh(this._value(),!0)},_controlVMouseUp:function(){this._checkedRefresh()},_handleVMouseDown:function(){this.handle.focus()},_handleKeydown:function(t){var i=this._value();if(!this.options.disabled){switch(t.keyCode){case n.mobile.keyCode.HOME:case n.mobile.keyCode.END:case n.mobile.keyCode.PAGE_UP:case n.mobile.keyCode.PAGE_DOWN:case n.mobile.keyCode.UP:case n.mobile.keyCode.RIGHT:case n.mobile.keyCode.DOWN:case n.mobile.keyCode.LEFT:t.preventDefault();this._keySliding||(this._keySliding=!0,this.handle.addClass("ui-state-active"))}switch(t.keyCode){case n.mobile.keyCode.HOME:this.refresh(this.min);break;case n.mobile.keyCode.END:this.refresh(this.max);break;case n.mobile.keyCode.PAGE_UP:case n.mobile.keyCode.UP:case n.mobile.keyCode.RIGHT:this.refresh(i+this.step);break;case n.mobile.keyCode.PAGE_DOWN:case n.mobile.keyCode.DOWN:case n.mobile.keyCode.LEFT:this.refresh(i-this.step)}}},_handleKeyup:function(){this._keySliding&&(this._keySliding=!1,this.handle.removeClass("ui-state-active"))},_sliderVMouseDown:function(n){return this.options.disabled||1!==n.which&&0!==n.which?!1:this._trigger("beforestart",n)===!1?!1:(this.dragging=!0,this.userModified=!1,this.mouseMoved=!1,this.isToggleSwitch&&(this.beforeStart=this.element[0].selectedIndex),this.refresh(n),this._trigger("start"),!1)},_sliderVMouseUp:function(){return this.dragging?(this.dragging=!1,this.isToggleSwitch&&(this.handle.addClass("ui-slider-handle-snapping"),this.mouseMoved?this.userModified?this.refresh(0===this.beforeStart?1:0):this.refresh(this.beforeStart):this.refresh(0===this.beforeStart?1:0)),this.mouseMoved=!1,this._trigger("stop"),!1):r},_preventDocumentDrag:function(n){return this._trigger("drag",n)===!1?!1:this.dragging&&!this.options.disabled?(this.mouseMoved=!0,this.isToggleSwitch&&this.handle.removeClass("ui-slider-handle-snapping"),this.refresh(n),this.userModified=this.beforeStart!==this.element[0].selectedIndex,!1):r},_checkedRefresh:function(){this.value!==this._value()&&this.refresh(this._value())},_value:function(){return this.isToggleSwitch?this.element[0].selectedIndex:parseFloat(this.element.val())},_reset:function(){this.refresh(r,!1,!0)},refresh:function(t,u,f){var y,v,p,d,tt=this,it=n.mobile.getInheritedTheme(this.element,"c"),et=this.options.theme||it,ot=this.options.trackTheme||it,ut,k;tt.slider[0].className=[this.isToggleSwitch?"ui-slider ui-slider-switch":"ui-slider-track"," ui-btn-down-"+ot," ui-btn-corner-all",this.options.mini?" ui-mini":""].join("");(this.options.disabled||this.element.attr("disabled"))&&this.disable();this.value=this._value();this.options.highlight&&!this.isToggleSwitch&&0===this.slider.find(".ui-slider-bg").length&&(this.valuebg=function(){var t=i.createElement("div");return t.className="ui-slider-bg "+n.mobile.activeBtnClass+" ui-btn-corner-all",n(t).prependTo(tt.slider)}());this.handle.buttonMarkup({corners:!0,theme:et,shadow:!0});var w,o,s=this.element,c=!this.isToggleSwitch,b=c?[]:s.find("option"),h=c?parseFloat(s.attr("min")):0,a=c?parseFloat(s.attr("max")):b.length-1,l=c&&parseFloat(s.attr("step"))>0?parseFloat(s.attr("step")):1;if("object"==typeof t){if(p=t,d=8,y=this.slider.offset().left,v=this.slider.width(),w=v/((a-h)/l),!this.dragging||y-d>p.pageX||p.pageX>y+v+d)return;o=w>1?100*((p.pageX-y)/v):Math.round(100*((p.pageX-y)/v))}else null==t&&(t=c?parseFloat(s.val()||0):s[0].selectedIndex),o=100*((parseFloat(t)-h)/(a-h));if(!isNaN(o)){var e=o/100*(a-h)+h,g=(e-h)%l,rt=e-g;if(2*Math.abs(g)>=l&&(rt+=g>0?l:-l),ut=100/((a-h)/l),e=parseFloat(rt.toFixed(5)),w===r&&(w=v/((a-h)/l)),w>1&&c&&(o=(e-h)*ut*(1/l)),0>o&&(o=0),o>100&&(o=100),h>e&&(e=h),e>a&&(e=a),this.handle.css("left",o+"%"),this.handle[0].setAttribute("aria-valuenow",c?e:b.eq(e).attr("value")),this.handle[0].setAttribute("aria-valuetext",c?e:b.eq(e).getEncodedText()),this.handle[0].setAttribute("title",c?e:b.eq(e).getEncodedText()),this.valuebg&&this.valuebg.css("width",o+"%"),this._labels){var nt=100*(this.handle.width()/this.slider.width()),ft=o&&nt+(100-nt)*o/100,st=100===o?0:Math.min(nt+100-ft,100);this._labels.each(function(){var t=n(this).is(".ui-slider-label-a");n(this).width((t?ft:st)+"%")})}if(!f){if(k=!1,c?(k=s.val()!==e,s.val(e)):(k=s[0].selectedIndex!==e,s[0].selectedIndex=e),this._trigger("beforechange",t)===!1)return!1;!u&&k&&s.trigger("change")}}},enable:function(){return this.element.attr("disabled",!1),this.slider.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.slider.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)}},n.mobile.behaviors.formReset));n.mobile.document.bind("pagecreate create",function(t){n.mobile.slider.prototype.enhanceWithin(t.target,!0)})}(n),function(n){n.widget("mobile.rangeslider",n.mobile.widget,{options:{theme:null,trackTheme:null,disabled:!1,initSelector:":jqmData(role='rangeslider')",mini:!1,highlight:!0},_create:function(){var s,t=this.element,h=this.options.mini?"ui-rangeslider ui-mini":"ui-rangeslider",i=t.find("input").first(),r=t.find("input").last(),c=t.find("label").first(),e=n.data(i.get(0),"mobileSlider").slider,u=n.data(r.get(0),"mobileSlider").slider,o=n.data(i.get(0),"mobileSlider").handle,f=n('<div class="ui-rangeslider-sliders" />').appendTo(t);t.find("label").length>1&&(s=t.find("label").last().hide());i.addClass("ui-rangeslider-first");r.addClass("ui-rangeslider-last");t.addClass(h);e.appendTo(f);u.appendTo(f);c.prependTo(t);o.prependTo(u);n.extend(this,{_inputFirst:i,_inputLast:r,_sliderFirst:e,_sliderLast:u,_targetVal:null,_sliderTarget:!1,_sliders:f,_proxy:!1});this.refresh();this._on(this.element.find("input.ui-slider-input"),{slidebeforestart:"_slidebeforestart",slidestop:"_slidestop",slidedrag:"_slidedrag",slidebeforechange:"_change",blur:"_change",keyup:"_change"});this._on({mousedown:"_change"});this._on(this.element.closest("form"),{reset:"_handleReset"});this._on(o,{vmousedown:"_dragFirstHandle"})},_handleReset:function(){var n=this;setTimeout(function(){n._updateHighlight()},0)},_dragFirstHandle:function(t){return n.data(this._inputFirst.get(0),"mobileSlider").dragging=!0,n.data(this._inputFirst.get(0),"mobileSlider").refresh(t),!1},_slidedrag:function(t){var i=n(t.target).is(this._inputFirst),u=i?this._inputLast:this._inputFirst;return this._sliderTarget=!1,"first"===this._proxy&&i||"last"===this._proxy&&!i?(n.data(u.get(0),"mobileSlider").dragging=!0,n.data(u.get(0),"mobileSlider").refresh(t),!1):r},_slidestop:function(t){var i=n(t.target).is(this._inputFirst);this._proxy=!1;this.element.find("input").trigger("vmouseup");this._sliderFirst.css("z-index",i?1:"")},_slidebeforestart:function(t){this._sliderTarget=!1;n(t.originalEvent.target).hasClass("ui-slider-track")&&(this._sliderTarget=!0,this._targetVal=n(t.target).val())},_setOption:function(n){this._superApply(n);this.refresh()},refresh:function(){var t=this.element,n=this.options;t.find("input").slider({theme:n.theme,trackTheme:n.trackTheme,disabled:n.disabled,mini:n.mini,highlight:n.highlight}).slider("refresh");this._updateHighlight()},_change:function(t){if("keyup"===t.type)return this._updateHighlight(),!1;var s=this,i=parseFloat(this._inputFirst.val(),10),u=parseFloat(this._inputLast.val(),10),f=n(t.target).hasClass("ui-rangeslider-first"),e=f?this._inputFirst:this._inputLast,o=f?this._inputLast:this._inputFirst;if(this._inputFirst.val()>this._inputLast.val()&&"mousedown"===t.type&&!n(t.target).hasClass("ui-slider-handle"))e.blur();else if("mousedown"===t.type)return;return i>u&&!this._sliderTarget?(e.val(f?u:i).slider("refresh"),this._trigger("normalize")):i>u&&(e.val(this._targetVal).slider("refresh"),setTimeout(function(){o.val(f?i:u).slider("refresh");n.data(o.get(0),"mobileSlider").handle.focus();s._sliderFirst.css("z-index",f?"":1);s._trigger("normalize")},0),this._proxy=f?"first":"last"),i===u?(n.data(e.get(0),"mobileSlider").handle.css("z-index",1),n.data(o.get(0),"mobileSlider").handle.css("z-index",0)):(n.data(o.get(0),"mobileSlider").handle.css("z-index",""),n.data(e.get(0),"mobileSlider").handle.css("z-index","")),this._updateHighlight(),i>=u?!1:r},_updateHighlight:function(){var t=parseInt(n.data(this._inputFirst.get(0),"mobileSlider").handle.get(0).style.left,10),i=parseInt(n.data(this._inputLast.get(0),"mobileSlider").handle.get(0).style.left,10),r=i-t;this.element.find(".ui-slider-bg").css({"margin-left":t+"%",width:r+"%"})},_destroy:function(){this.element.removeClass("ui-rangeslider ui-mini").find("label").show();this._inputFirst.after(this._sliderFirst);this._inputLast.after(this._sliderLast);this._sliders.remove();this.element.find("input").removeClass("ui-rangeslider-first ui-rangeslider-last").slider("destroy")}});n.widget("mobile.rangeslider",n.mobile.rangeslider,n.mobile.behaviors.formReset);n(i).bind("pagecreate create",function(t){n.mobile.rangeslider.prototype.enhanceWithin(t.target,!0)})}(n),function(n){n.widget("mobile.selectmenu",n.mobile.widget,n.extend({options:{theme:null,disabled:!1,icon:"arrow-d",iconpos:"right",inline:!1,corners:!0,shadow:!0,iconshadow:!0,overlayTheme:"a",dividerTheme:"b",hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"select:not( :jqmData(role='slider') )",mini:!1},_button:function(){return n("<div/>")},_setDisabled:function(n){return this.element.attr("disabled",n),this.button.attr("aria-disabled",n),this._setOption("disabled",n)},_focusButton:function(){var n=this;setTimeout(function(){n.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var t="";~this.element[0].className.indexOf("ui-btn-left")&&(t=" ui-btn-left");~this.element[0].className.indexOf("ui-btn-right")&&(t=" ui-btn-right");this.select=this.element.removeClass("ui-btn-left ui-btn-right").wrap("<div class='ui-select"+t+"'>");this.selectID=this.select.attr("id");this.label=n("label[for='"+this.selectID+"']").addClass("ui-select");this.isMultiple=this.select[0].multiple;this.options.theme||(this.options.theme=n.mobile.getInheritedTheme(this.select,"c"))},_destroy:function(){var n=this.element.parents(".ui-select");n.length>0&&(n.is(".ui-btn-left, .ui-btn-right")&&this.element.addClass(n.is(".ui-btn-left")?"ui-btn-left":"ui-btn-right"),this.element.insertAfter(n),n.remove())},_create:function(){this._preExtension();this._trigger("beforeCreate");this.button=this._button();var u=this,i=this.options,f=i.inline||this.select.jqmData("inline"),e=i.mini||this.select.jqmData("mini"),o=i.icon?i.iconpos||this.select.jqmData("iconpos"):!1,r=(-1===this.select[0].selectedIndex?0:this.select[0].selectedIndex,this.button.insertBefore(this.select).buttonMarkup({theme:i.theme,icon:i.icon,iconpos:o,inline:f,corners:i.corners,shadow:i.shadow,iconshadow:i.iconshadow,mini:e}));this.setButtonText();i.nativeMenu&&t.opera&&t.opera.version&&r.addClass("ui-select-nativeonly");this.isMultiple&&(this.buttonCount=n("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(r.addClass("ui-li-has-count")));(i.disabled||this.element.attr("disabled"))&&this.disable();this.select.change(function(){u.refresh();i.nativeMenu&&this.blur()});this._handleFormReset();this.build()},build:function(){var t=this;this.select.appendTo(t.button).bind("vmousedown",function(){t.button.addClass(n.mobile.activeBtnClass)}).bind("focus",function(){t.button.addClass(n.mobile.focusClass)}).bind("blur",function(){t.button.removeClass(n.mobile.focusClass)}).bind("focus vmouseover",function(){t.button.trigger("vmouseover")}).bind("vmousemove",function(){t.button.removeClass(n.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){t.button.trigger("vmouseout").removeClass(n.mobile.activeBtnClass)}).bind("change blur",function(){t.button.removeClass("ui-btn-down-"+t.options.theme)});t.button.bind("vmousedown",function(){t.options.preventFocusZoom&&n.mobile.zoom.disable(!0)});t.label.bind("click focus",function(){t.options.preventFocusZoom&&n.mobile.zoom.disable(!0)});t.select.bind("focus",function(){t.options.preventFocusZoom&&n.mobile.zoom.disable(!0)});t.button.bind("mouseup",function(){t.options.preventFocusZoom&&setTimeout(function(){n.mobile.zoom.enable(!0)},0)});t.select.bind("blur",function(){t.options.preventFocusZoom&&n.mobile.zoom.enable(!0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var n=this;return this.selected().map(function(){return n._selectOptions().index(this)}).get()},setButtonText:function(){var r=this,t=this.selected(),u=this.placeholder,f=n(i.createElement("span"));this.button.find(".ui-btn-text").html(function(){return u=t.length?t.map(function(){return n(this).text()}).get().join(", "):r.placeholder,f.text(u).addClass(r.select.attr("class")).addClass(t.attr("class"))})},setButtonCount:function(){var n=this.selected();this.isMultiple&&this.buttonCount[n.length>1?"show":"hide"]().text(n.length)},_reset:function(){this.refresh()},refresh:function(){this.setButtonText();this.setButtonCount()},open:n.noop,close:n.noop,disable:function(){this._setDisabled(!0);this.button.addClass("ui-disabled")},enable:function(){this._setDisabled(!1);this.button.removeClass("ui-disabled")}},n.mobile.behaviors.formReset));n.mobile.document.bind("pagecreate create",function(t){n.mobile.selectmenu.prototype.enhanceWithin(t.target,!0)})}(n),function(n,r){function f(n,t,i,r){var u=r;return t>n?i+(n-t)/2:Math.min(Math.max(i,r-t/2),i+n-t)}function u(){var i=n.mobile.window;return{x:i.scrollLeft(),y:i.scrollTop(),cx:t.innerWidth||i.width(),cy:t.innerHeight||i.height()}}n.widget("mobile.popup",n.mobile.widget,{options:{theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,initSelector:":jqmData(role='popup')",closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",dismissible:!0,history:!n.mobile.browser.oldIE},_eatEventAndClose:function(n){return n.preventDefault(),n.stopImmediatePropagation(),this.options.dismissible&&this.close(),!1},_resizeScreen:function(){var n=this._ui.container.outerHeight(!0);this._ui.screen.removeAttr("style");n>this._ui.screen.height()&&this._ui.screen.height(n)},_handleWindowKeyUp:function(t){return this._isOpen&&t.keyCode===n.mobile.keyCode.ESCAPE?this._eatEventAndClose(t):r},_expectResizeEvent:function(){var t=u();if(this._resizeData){if(t.x===this._resizeData.winCoords.x&&t.y===this._resizeData.winCoords.y&&t.cx===this._resizeData.winCoords.cx&&t.cy===this._resizeData.winCoords.cy)return!1;clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:setTimeout(n.proxy(this,"_resizeTimeout"),200),winCoords:t},!0},_resizeTimeout:function(){this._isOpen?this._expectResizeEvent()||(this._ui.container.hasClass("ui-popup-hidden")&&(this._ui.container.removeClass("ui-popup-hidden"),this.reposition({positionTo:"window"}),this._ignoreResizeEvents()),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1):(this._resizeData=null,this._orientationchangeInProgress=!1)},_ignoreResizeEvents:function(){var n=this;this._ignoreResizeTo&&clearTimeout(this._ignoreResizeTo);this._ignoreResizeTo=setTimeout(function(){n._ignoreResizeTo=0},1e3)},_handleWindowResize:function(){this._isOpen&&0===this._ignoreResizeTo&&(!this._expectResizeEvent()&&!this._orientationchangeInProgress||this._ui.container.hasClass("ui-popup-hidden")||this._ui.container.addClass("ui-popup-hidden").removeAttr("style"))},_handleWindowOrientationchange:function(){!this._orientationchangeInProgress&&this._isOpen&&0===this._ignoreResizeTo&&(this._expectResizeEvent(),this._orientationchangeInProgress=!0)},_handleDocumentFocusIn:function(t){var u,f=t.target,r=this._ui;if(this._isOpen){if(f!==r.container[0]){if(u=n(t.target),0===u.parents().filter(r.container[0]).length)return n(i.activeElement).one("focus",function(){u.blur()}),r.focusElement.focus(),t.preventDefault(),t.stopImmediatePropagation(),!1;r.focusElement[0]===r.container[0]&&(r.focusElement=u)}this._ignoreResizeEvents()}},_create:function(){var t={screen:n("<div class='ui-screen-hidden ui-popup-screen'><\/div>"),placeholder:n("<div style='display: none;'><!-- placeholder --><\/div>"),container:n("<div class='ui-popup-container ui-popup-hidden'><\/div>")},i=this.element.closest(".ui-page"),u=this.element.attr("id"),f=this;this.options.history=this.options.history&&n.mobile.ajaxEnabled&&n.mobile.hashListeningEnabled;0===i.length&&(i=n("body"));this.options.container=this.options.container||n.mobile.pageContainer;i.append(t.screen);t.container.insertAfter(t.screen);t.placeholder.insertAfter(this.element);u&&(t.screen.attr("id",u+"-screen"),t.container.attr("id",u+"-popup"),t.placeholder.html("<!-- placeholder for "+u+" -->"));t.container.append(this.element);t.focusElement=t.container;this.element.addClass("ui-popup");n.extend(this,{_scrollTop:0,_page:i,_ui:t,_fallbackTransition:"",_currentTransition:!1,_prereqs:null,_isOpen:!1,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:!1});n.each(this.options,function(n,t){f.options[n]=r;f._setOption(n,t,!0)});t.screen.bind("vclick",n.proxy(this,"_eatEventAndClose"));this._on(n.mobile.window,{orientationchange:n.proxy(this,"_handleWindowOrientationchange"),resize:n.proxy(this,"_handleWindowResize"),keyup:n.proxy(this,"_handleWindowKeyUp")});this._on(n.mobile.document,{focusin:n.proxy(this,"_handleDocumentFocusIn")})},_applyTheme:function(n,t,i){for(var u,f=(n.attr("class")||"").split(" "),r=null,e=t+"";f.length>0;){if(r=f.pop(),u=RegExp("^ui-"+i+"-([a-z])$").exec(r),u&&u.length>1){r=u[1];break}r=null}t!==r&&(n.removeClass("ui-"+i+"-"+r),null!==t&&"none"!==t&&n.addClass("ui-"+i+"-"+e))},_setTheme:function(n){this._applyTheme(this.element,n,"body")},_setOverlayTheme:function(n){this._applyTheme(this._ui.screen,n,"overlay");this._isOpen&&this._ui.screen.addClass("in")},_setShadow:function(n){this.element.toggleClass("ui-overlay-shadow",n)},_setCorners:function(n){this.element.toggleClass("ui-corner-all",n)},_applyTransition:function(t){this._ui.container.removeClass(this._fallbackTransition);t&&"none"!==t&&(this._fallbackTransition=n.mobile._maybeDegradeTransition(t),"none"===this._fallbackTransition&&(this._fallbackTransition=""),this._ui.container.addClass(this._fallbackTransition))},_setTransition:function(n){this._currentTransition||this._applyTransition(n)},_setTolerance:function(t){var u={t:30,r:15,b:30,l:15},i;if(t!==r){i=(t+"").split(",");switch(n.each(i,function(n,t){i[n]=parseInt(t,10)}),i.length){case 1:isNaN(i[0])||(u.t=u.r=u.b=u.l=i[0]);break;case 2:isNaN(i[0])||(u.t=u.b=i[0]);isNaN(i[1])||(u.l=u.r=i[1]);break;case 4:isNaN(i[0])||(u.t=i[0]);isNaN(i[1])||(u.r=i[1]);isNaN(i[2])||(u.b=i[2]);isNaN(i[3])||(u.l=i[3])}}this._tolerance=u},_setOption:function(t,i){var u,f="_set"+t.charAt(0).toUpperCase()+t.slice(1);this[f]!==r&&this[f](i);u=["initSelector","closeLinkSelector","closeLinkEvents","navigateEvents","closeEvents","history","container"];n.mobile.widget.prototype._setOption.apply(this,arguments);-1===n.inArray(t,u)&&this.element.attr("data-"+(n.mobile.ns||"")+t.replace(/([A-Z])/,"-$1").toLowerCase(),i)},_placementCoords:function(n){var e,t,o=u(),r={x:this._tolerance.l,y:o.y+this._tolerance.t,cx:o.cx-this._tolerance.l-this._tolerance.r,cy:o.cy-this._tolerance.t-this._tolerance.b};this._ui.container.css("max-width",r.cx);e={cx:this._ui.container.outerWidth(!0),cy:this._ui.container.outerHeight(!0)};t={x:f(r.cx,e.cx,r.x,n.x),y:f(r.cy,e.cy,r.y,n.y)};t.y=Math.max(0,t.y);var s=i.documentElement,h=i.body,c=Math.max(s.clientHeight,h.scrollHeight,h.offsetHeight,s.scrollHeight,s.offsetHeight);return t.y-=Math.min(t.y,Math.max(0,t.y+e.cy-c)),{left:t.x,top:t.y}},_createPrereqs:function(t,i,r){var u,f=this;u={screen:n.Deferred(),container:n.Deferred()};u.screen.then(function(){u===f._prereqs&&t()});u.container.then(function(){u===f._prereqs&&i()});n.when(u.screen,u.container).done(function(){u===f._prereqs&&(f._prereqs=null,r())});f._prereqs=u},_animate:function(t){return this._ui.screen.removeClass(t.classToRemove).addClass(t.screenClassToAdd),t.prereqs.screen.resolve(),t.transition&&"none"!==t.transition&&(t.applyTransition&&this._applyTransition(t.transition),this._fallbackTransition)?(this._ui.container.animationComplete(n.proxy(t.prereqs.container,"resolve")).addClass(t.containerClassToAdd).removeClass(t.classToRemove),r):(this._ui.container.removeClass(t.classToRemove),t.prereqs.container.resolve(),r)},_desiredCoords:function(t){var s,i=null,r=u(),f=t.x,e=t.y,o=t.positionTo;if(o&&"origin"!==o)if("window"===o)f=r.cx/2+r.x,e=r.cy/2+r.y;else{try{i=n(o)}catch(h){i=null}i&&(i.filter(":visible"),0===i.length&&(i=null))}return i&&(s=i.offset(),f=s.left+i.outerWidth()/2,e=s.top+i.outerHeight()/2),("number"!==n.type(f)||isNaN(f))&&(f=r.cx/2+r.x),("number"!==n.type(e)||isNaN(e))&&(e=r.cy/2+r.y),{x:f,y:e}},_reposition:function(n){n={x:n.x,y:n.y,positionTo:n.positionTo};this._trigger("beforeposition",n);this._ui.container.offset(this._placementCoords(this._desiredCoords(n)))},reposition:function(n){this._isOpen&&this._reposition(n)},_openPrereqsComplete:function(){this._ui.container.addClass("ui-popup-active");this._isOpen=!0;this._resizeScreen();this._ui.container.attr("tabindex","0").focus();this._ignoreResizeEvents();this._trigger("afteropen")},_open:function(t){var i=n.extend({},this.options,t),r=function(){var n=navigator.userAgent,i=n.match(/AppleWebKit\/([0-9\.]+)/),r=!!i&&i[1],t=n.match(/Android (\d+(?:\.\d+))/),u=!!t&&t[1],f=n.indexOf("Chrome")>-1;return null!==t&&"4.0"===u&&r&&r>534.13&&!f?!0:!1}();this._createPrereqs(n.noop,n.noop,n.proxy(this,"_openPrereqsComplete"));this._currentTransition=i.transition;this._applyTransition(i.transition);this.options.theme||this._setTheme(this._page.jqmData("theme")||n.mobile.getInheritedTheme(this._page,"c"));this._ui.screen.removeClass("ui-screen-hidden");this._ui.container.removeClass("ui-popup-hidden");this._reposition(i);this.options.overlayTheme&&r&&this.element.closest(".ui-page").addClass("ui-popup-open");this._animate({additionalCondition:!0,transition:i.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prereqs:this._prereqs})},_closePrereqScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrereqContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-popup-hidden").removeAttr("style")},_closePrereqsDone:function(){this.options;this._ui.container.removeAttr("tabindex");n.mobile.popup.active=r;this._trigger("afterclose")},_close:function(t){this._ui.container.removeClass("ui-popup-active");this._page.removeClass("ui-popup-open");this._isOpen=!1;this._createPrereqs(n.proxy(this,"_closePrereqScreen"),n.proxy(this,"_closePrereqContainer"),n.proxy(this,"_closePrereqsDone"));this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:t?"none":this._currentTransition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prereqs:this._prereqs})},_unenhance:function(){this._setTheme("none");this.element.detach().insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all");this._ui.screen.remove();this._ui.container.remove();this._ui.placeholder.remove()},_destroy:function(){n.mobile.popup.active===this?(this.element.one("popupafterclose",n.proxy(this,"_unenhance")),this.close()):this._unenhance()},_closePopup:function(i,r){var u,e,f=this.options,o=!1;t.scrollTo(0,this._scrollTop);i&&"pagebeforechange"===i.type&&r&&(u="string"==typeof r.toPage?r.toPage:r.toPage.jqmData("url"),u=n.mobile.path.parseUrl(u),e=u.pathname+u.search+u.hash,this._myUrl!==n.mobile.path.makeUrlAbsolute(e)?o=!0:i.preventDefault());f.container.unbind(f.closeEvents);this.element.undelegate(f.closeLinkSelector,f.closeLinkEvents);this._close(o)},_bindContainerClose:function(){this.options.container.one(this.options.closeEvents,n.proxy(this,"_closePopup"))},open:function(i){var u,e,c,s,l,o,f=this,h=this.options;if(!n.mobile.popup.active){if(n.mobile.popup.active=this,this._scrollTop=n.mobile.window.scrollTop(),!h.history)return f._open(i),f._bindContainerClose(),f.element.delegate(h.closeLinkSelector,h.closeLinkEvents,function(n){f.close();n.preventDefault()}),r;if(o=n.mobile.urlHistory,e=n.mobile.dialogHashKey,c=n.mobile.activePage,s=c.is(".ui-dialog"),this._myUrl=u=o.getActive().url,l=u.indexOf(e)>-1&&!s&&o.activeIndex>0)return f._open(i),f._bindContainerClose(),r;-1!==u.indexOf(e)||s?u=n.mobile.path.parseLocation().hash+e:u+=u.indexOf("#")>-1?e:"#"+e;0===o.activeIndex&&u===o.initialDst&&(u+=e);n(t).one("beforenavigate",function(n){n.preventDefault();f._open(i);f._bindContainerClose()});this.urlAltered=!0;n.mobile.navigate(u,{role:"dialog"})}},close:function(){n.mobile.popup.active===this&&(this._scrollTop=n.mobile.window.scrollTop(),this.options.history&&this.urlAltered?(n.mobile.back(),this.urlAltered=!1):this._closePopup())}});n.mobile.popup.handleLink=function(t){var i,r=t.closest(":jqmData(role='page')"),f=0===r.length?n("body"):r,u=n(n.mobile.path.parseUrl(t.attr("href")).hash,f[0]);u.data("mobile-popup")&&(i=t.offset(),u.popup("open",{x:i.left+t.outerWidth()/2,y:i.top+t.outerHeight()/2,transition:t.jqmData("transition"),positionTo:t.jqmData("position-to")}));setTimeout(function(){var i=t.parent().parent();i.hasClass("ui-li")&&(t=i.parent());t.removeClass(n.mobile.activeBtnClass)},300)};n.mobile.document.bind("pagebeforechange",function(t,i){"popup"===i.options.role&&(n.mobile.popup.handleLink(i.options.link),t.preventDefault())});n.mobile.document.bind("pagecreate create",function(t){n.mobile.popup.prototype.enhanceWithin(t.target,!0)})}(n),function(n,t){var r=function(r){var p,w,s,b=(r.select,r._destroy),u=r.selectID,h=u?u:(n.mobile.ns||"")+"uuid-"+r.uuid,c=h+"-listbox",l=h+"-dialog",a=r.label,k=r.select.closest(".ui-page"),d=r._selectOptions(),g=r.isMultiple=r.select[0].multiple,v=u+"-button",y=u+"-menu",f=n("<div data-"+n.mobile.ns+"role='dialog' id='"+l+"' data-"+n.mobile.ns+"theme='"+r.options.theme+"' data-"+n.mobile.ns+"overlay-theme='"+r.options.overlayTheme+"'><div data-"+n.mobile.ns+"role='header'><div class='ui-title'>"+a.getEncodedText()+"<\/div><\/div><div data-"+n.mobile.ns+"role='content'><\/div><\/div>"),e=n("<div id='"+c+"' class='ui-selectmenu'>").insertAfter(r.select).popup({theme:r.options.overlayTheme}),nt=n("<ul>",{"class":"ui-selectmenu-list",id:y,role:"listbox","aria-labelledby":v}).attr("data-"+n.mobile.ns+"theme",r.options.theme).attr("data-"+n.mobile.ns+"divider-theme",r.options.dividerTheme).appendTo(e),o=n("<div>",{"class":"ui-header ui-bar-"+r.options.theme}).prependTo(e),tt=n("<h1>",{"class":"ui-title"}).appendTo(o);r.isMultiple&&(s=n("<a>",{text:r.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+n.mobile.ns+"iconpos","notext").attr("data-"+n.mobile.ns+"icon","delete").appendTo(o).buttonMarkup());n.extend(r,{select:r.select,selectID:u,buttonId:v,menuId:y,popupID:c,dialogID:l,thisPage:k,menuPage:f,label:a,selectOptions:d,isMultiple:g,theme:r.options.theme,listbox:e,list:nt,header:o,headerTitle:tt,headerClose:s,menuPageContent:p,menuPageClose:w,placeholder:"",build:function(){var i=this;i.refresh();i._origTabIndex===t&&(i._origTabIndex=null===i.select[0].getAttribute("tabindex")?!1:i.select.attr("tabindex"));i.select.attr("tabindex","-1").focus(function(){n(this).blur();i.button.focus()});i.button.bind("vclick keydown",function(t){i.options.disabled||i.isOpen||("vclick"===t.type||t.keyCode&&(t.keyCode===n.mobile.keyCode.ENTER||t.keyCode===n.mobile.keyCode.SPACE))&&(i._decideFormat(),"overlay"===i.menuType?i.button.attr("href","#"+i.popupID).attr("data-"+(n.mobile.ns||"")+"rel","popup"):i.button.attr("href","#"+i.dialogID).attr("data-"+(n.mobile.ns||"")+"rel","dialog"),i.isOpen=!0)});i.list.attr("role","listbox").bind("focusin",function(t){n(t.target).attr("tabindex","0").trigger("vmouseover")}).bind("focusout",function(t){n(t.target).attr("tabindex","-1").trigger("vmouseout")}).delegate("li:not(.ui-disabled, .ui-li-divider)","click",function(t){var e=i.select[0].selectedIndex,f=i.list.find("li:not(.ui-li-divider)").index(this),u=i._selectOptions().eq(f)[0];u.selected=i.isMultiple?!u.selected:!0;i.isMultiple&&n(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",u.selected).toggleClass("ui-icon-checkbox-off",!u.selected);(i.isMultiple||e!==f)&&i.select.trigger("change");i.isMultiple?i.list.find("li:not(.ui-li-divider)").eq(f).addClass("ui-btn-down-"+r.options.theme).find("a").first().focus():i.close();t.preventDefault()}).keydown(function(t){var i,u,f=n(t.target),e=f.closest("li");switch(t.keyCode){case 38:return i=e.prev().not(".ui-selectmenu-placeholder"),i.is(".ui-li-divider")&&(i=i.prev()),i.length&&(f.blur().attr("tabindex","-1"),i.addClass("ui-btn-down-"+r.options.theme).find("a").first().focus()),!1;case 40:return u=e.next(),u.is(".ui-li-divider")&&(u=u.next()),u.length&&(f.blur().attr("tabindex","-1"),u.addClass("ui-btn-down-"+r.options.theme).find("a").first().focus()),!1;case 13:case 32:return f.trigger("click"),!1}});i.menuPage.bind("pagehide",function(){n.mobile._bindPageRemove.call(i.thisPage)});i.listbox.bind("popupafterclose",function(){i.close()});i.isMultiple&&i.headerClose.click(function(){return"overlay"===i.menuType?(i.close(),!1):t});i.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var n=this.list.find("li"),t=this._selectOptions();return t.text()!==n.text()},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )")},refresh:function(t){var r,i=this;this.element;this.isMultiple;(t||this._isRebuildRequired())&&i._buildList();r=this.selectedIndices();i.setButtonText();i.setButtonCount();i.list.find("li:not(.ui-li-divider)").removeClass(n.mobile.activeBtnClass).attr("aria-selected",!1).each(function(t){if(n.inArray(t,r)>-1){var u=n(this);u.attr("aria-selected",!0);i.isMultiple?u.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on"):u.is(".ui-selectmenu-placeholder")?u.next().addClass(n.mobile.activeBtnClass):u.addClass(n.mobile.activeBtnClass)}})},close:function(){if(!this.options.disabled&&this.isOpen){var n=this;"page"===n.menuType?(n.menuPage.dialog("close"),n.list.appendTo(n.listbox)):n.listbox.popup("close");n._focusButton();n.isOpen=!1}},open:function(){this.button.click()},_decideFormat:function(){function u(){var i=t.list.find("."+n.mobile.activeBtnClass+" a");0===i.length&&(i=t.list.find("li.ui-btn:not( :jqmData(placeholder='true') ) a"));i.first().focus().closest("li").addClass("ui-btn-down-"+r.options.theme)}var t=this,i=n.mobile.window,e=t.list.parent(),h=e.outerHeight(),c=(e.outerWidth(),n("."+n.mobile.activePageClass),i.scrollTop()),o=t.button.offset().top,s=i.height();i.width();h>s-80||!n.support.scrollTop?(t.menuPage.appendTo(n.mobile.pageContainer).page(),t.menuPageContent=f.find(".ui-content"),t.menuPageClose=f.find(".ui-header a"),t.thisPage.unbind("pagehide.remove"),0===c&&o>s&&t.thisPage.one("pagehide",function(){n(this).jqmData("lastScroll",o)}),t.menuPage.one("pageshow",function(){u()}).one("pagehide",function(){t.close()}),t.menuType="page",t.menuPageContent.append(t.list),t.menuPage.find("div .ui-title").text(t.label.text())):(t.menuType="overlay",t.listbox.one("popupafteropen",u))},_buildList:function(){var r=this,nt=this.options,l=this.placeholder,b=!0,tt=r.isMultiple?"checkbox-off":"false",c,f,t;r.list.empty().filter(".ui-listview").listview("destroy");for(var k,d=r.select.find("option"),it=d.length,rt=this.select[0],e="data-"+n.mobile.ns,ut=e+"option-index",ft=e+"icon",et=e+"role",a=e+"placeholder",v=i.createDocumentFragment(),y=!1,o=0;it>o;o++,y=!1){var u=d[o],g=n(u),p=u.parentNode,s=g.text(),h=i.createElement("a"),w=[];(h.setAttribute("href","#"),h.appendChild(i.createTextNode(s)),p!==rt&&"optgroup"===p.nodeName.toLowerCase())&&(c=p.getAttribute("label"),c!==k&&(f=i.createElement("li"),f.setAttribute(et,"list-divider"),f.setAttribute("role","option"),f.setAttribute("tabindex","-1"),f.appendChild(i.createTextNode(c)),v.appendChild(f),k=c));b&&(!u.getAttribute("value")||0===s.length||g.jqmData("placeholder"))&&(b=!1,y=!0,null===u.getAttribute(a)&&(this._removePlaceholderAttr=!0),u.setAttribute(a,!0),nt.hidePlaceholderMenuItems&&w.push("ui-selectmenu-placeholder"),l!==s&&(l=r.placeholder=s));t=i.createElement("li");u.disabled&&(w.push("ui-disabled"),t.setAttribute("aria-disabled",!0));t.setAttribute(ut,o);t.setAttribute(ft,tt);y&&t.setAttribute(a,!0);t.className=w.join(" ");t.setAttribute("role","option");h.setAttribute("tabindex","-1");t.appendChild(h);v.appendChild(t)}r.list[0].appendChild(v);this.isMultiple||l.length?this.headerTitle.text(this.placeholder):this.header.hide();r.list.listview()},_button:function(){return n("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})},_destroy:function(){this.close();this._origTabIndex!==t&&(this._origTabIndex!==!1?this.select.attr("tabindex",this._origTabIndex):this.select.removeAttr("tabindex"));this._removePlaceholderAttr&&this._selectOptions().removeAttr("data-"+n.mobile.ns+"placeholder");this.listbox.remove();b.apply(this,arguments)}})};n.mobile.document.bind("selectmenubeforecreate",function(t){var i=n(t.target).data("mobile-selectmenu");i.options.nativeMenu||0!==i.element.parents(":jqmData(role='popup')").length||r(i)})}(n),function(n,t){n.widget("mobile.controlgroup",n.mobile.widget,n.extend({options:{shadow:!1,corners:!0,excludeInvisible:!0,type:"vertical",mini:!1,initSelector:":jqmData(role='controlgroup')"},_create:function(){var i=this.element,r={inner:n("<div class='ui-controlgroup-controls'><\/div>"),legend:n("<div role='heading' class='ui-controlgroup-label'><\/div>")},u=i.children("legend"),f=this;i.wrapInner(r.inner);u.length&&r.legend.append(u).insertBefore(i.children(0));i.addClass("ui-corner-all ui-controlgroup");n.extend(this,{_initialRefresh:!0});n.each(this.options,function(n,i){f.options[n]=t;f._setOption(n,i,!0)})},_init:function(){this.refresh()},_setOption:function(i,r){var u="_set"+i.charAt(0).toUpperCase()+i.slice(1);this[u]!==t&&this[u](r);this._super(i,r);this.element.attr("data-"+(n.mobile.ns||"")+i.replace(/([A-Z])/,"-$1").toLowerCase(),r)},_setType:function(n){this.element.removeClass("ui-controlgroup-horizontal ui-controlgroup-vertical").addClass("ui-controlgroup-"+n);this.refresh()},_setCorners:function(n){this.element.toggleClass("ui-corner-all",n)},_setShadow:function(n){this.element.toggleClass("ui-shadow",n)},_setMini:function(n){this.element.toggleClass("ui-mini",n)},container:function(){return this.element.children(".ui-controlgroup-controls")},refresh:function(){var t=this.element.find(".ui-btn").not(".ui-slider-handle"),i=this._initialRefresh;n.mobile.checkboxradio&&this.element.find(":mobile-checkboxradio").checkboxradio("refresh");this._addFirstLastClasses(t,this.options.excludeInvisible?this._getVisibles(t,i):t,i);this._initialRefresh=!1}},n.mobile.behaviors.addFirstLastClasses));n(function(){n.mobile.document.bind("pagecreate create",function(t){n.mobile.controlgroup.prototype.enhanceWithin(t.target,!0)})})}(n),function(n){n(i).bind("pagecreate create",function(t){n(t.target).find("a").jqmEnhanceable().not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")})}(n),function(n,t){n.widget("mobile.fixedtoolbar",n.mobile.widget,{options:{visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-popup, .ui-panel, .ui-panel-dismiss-open",hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){return!n.support.fixedPosition},initSelector:":jqmData(position='fixed')"},_create:function(){var i=this,f=i.options,r=i.element,u=r.is(":jqmData(role='header')")?"header":"footer",e=r.closest(".ui-page");return f.supportBlacklist()?(i.destroy(),t):(r.addClass("ui-"+u+"-fixed"),f.fullscreen?(r.addClass("ui-"+u+"-fullscreen"),e.addClass("ui-page-"+u+"-fullscreen")):e.addClass("ui-page-"+u+"-fixed"),n.extend(this,{_thisPage:null}),i._addTransitionClass(),i._bindPageEvents(),i._bindToggleHandlers(),t)},_addTransitionClass:function(){var n=this.options.transition;n&&"none"!==n&&("slide"===n&&(n=this.element.is(".ui-header")?"slidedown":"slideup"),this.element.addClass(n))},_bindPageEvents:function(){this._thisPage=this.element.closest(".ui-page");this._on(this._thisPage,{pagebeforeshow:"_handlePageBeforeShow",webkitAnimationStart:"_handleAnimationStart",animationstart:"_handleAnimationStart",updatelayout:"_handleAnimationStart",pageshow:"_handlePageShow",pagebeforehide:"_handlePageBeforeHide"})},_handlePageBeforeShow:function(){var t=this.options;t.disablePageZoom&&n.mobile.zoom.disable(!0);t.visibleOnPageShow||this.hide(!0)},_handleAnimationStart:function(){this.options.updatePagePadding&&this.updatePagePadding(this._thisPage)},_handlePageShow:function(){this.updatePagePadding(this._thisPage);this.options.updatePagePadding&&this._on(n.mobile.window,{throttledresize:"updatePagePadding"})},_handlePageBeforeHide:function(t,i){var r=this.options;if(r.disablePageZoom&&n.mobile.zoom.enable(!0),r.updatePagePadding&&this._off(n.mobile.window,"throttledresize"),r.trackPersistentToolbars){var e=n(".ui-footer-fixed:jqmData(id)",this._thisPage),o=n(".ui-header-fixed:jqmData(id)",this._thisPage),u=e.length&&i.nextPage&&n(".ui-footer-fixed:jqmData(id='"+e.jqmData("id")+"')",i.nextPage)||n(),f=o.length&&i.nextPage&&n(".ui-header-fixed:jqmData(id='"+o.jqmData("id")+"')",i.nextPage)||n();(u.length||f.length)&&(u.add(f).appendTo(n.mobile.pageContainer),i.nextPage.one("pageshow",function(){f.prependTo(this);u.appendTo(this)}))}},_visible:!0,updatePagePadding:function(i){var r=this.element,u=r.is(".ui-header"),f=parseFloat(r.css(u?"top":"bottom"));this.options.fullscreen||(i=i&&i.type===t&&i||this._thisPage||r.closest(".ui-page"),n(i).css("padding-"+(u?"top":"bottom"),r.outerHeight()+f))},_useTransition:function(t){var e=n.mobile.window,i=this.element,r=e.scrollTop(),u=i.height(),o=i.closest(".ui-page").height(),s=n.mobile.getScreenHeight(),f=i.is(":jqmData(role='header')")?"header":"footer";return!t&&(this.options.transition&&"none"!==this.options.transition&&("header"===f&&!this.options.fullscreen&&r>u||"footer"===f&&!this.options.fullscreen&&o-u>r+s)||this.options.fullscreen)},show:function(n){var i="ui-fixed-hidden",t=this.element;this._useTransition(n)?t.removeClass("out "+i).addClass("in").animationComplete(function(){t.removeClass("in")}):t.removeClass(i);this._visible=!0},hide:function(n){var r="ui-fixed-hidden",t=this.element,i="out"+("slide"===this.options.transition?" reverse":"");this._useTransition(n)?t.addClass(i).removeClass("in").animationComplete(function(){t.addClass(r).removeClass(i)}):t.addClass(r).removeClass(i);this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var u,f,t=this,r=t.options,e=t.element,i=!0;e.closest(".ui-page").bind("vclick",function(i){r.tapToggle&&!n(i.target).closest(r.tapToggleBlacklist).length&&t.toggle()}).bind("focusin focusout",function(e){1025>screen.width&&n(e.target).is(r.hideDuringFocus)&&!n(e.target).closest(".ui-header-fixed, .ui-footer-fixed").length&&("focusout"!==e.type||i?"focusin"===e.type&&i&&(clearTimeout(u),i=!1,f=setTimeout(function(){t.hide()},0)):(i=!0,clearTimeout(f),u=setTimeout(function(){t.show()},0)))})},_destroy:function(){var n=this.element,t=n.is(".ui-header");n.closest(".ui-page").css("padding-"+(t?"top":"bottom"),"");n.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden");n.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen")}});n.mobile.document.bind("pagecreate create",function(t){n(t.target).jqmData("fullscreen")&&n(n.mobile.fixedtoolbar.prototype.options.initSelector,t.target).not(":jqmData(fullscreen)").jqmData("fullscreen",!0);n.mobile.fixedtoolbar.prototype.enhanceWithin(t.target)})}(n),function(n){n.widget("mobile.fixedtoolbar",n.mobile.fixedtoolbar,{_create:function(){this._super();this._workarounds()},_workarounds:function(){var r=navigator.userAgent,t=navigator.platform,u=r.match(/AppleWebKit\/([0-9]+)/),f=!!u&&u[1],n=null,i=this;if(t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1||t.indexOf("iPod")>-1)n="ios";else{if(!(r.indexOf("Android")>-1))return;n="android"}if("ios"===n)i._bindScrollWorkaround();else{if(!("android"===n&&f&&534>f))return;i._bindScrollWorkaround();i._bindListThumbWorkaround()}},_viewportOffset:function(){var t=this.element,r=t.is(".ui-header"),i=Math.abs(t.offset().top-n.mobile.window.scrollTop());return r||(i=Math.round(i-n.mobile.window.height()+t.outerHeight())-60),i},_bindScrollWorkaround:function(){var t=this;this._on(n.mobile.window,{scrollstop:function(){var n=t._viewportOffset();n>2&&t._visible&&t._triggerRedraw()}})},_bindListThumbWorkaround:function(){this.element.closest(".ui-page").addClass("ui-android-2x-fixed")},_triggerRedraw:function(){var t=parseFloat(n(".ui-page-active").css("padding-bottom"));n(".ui-page-active").css("padding-bottom",t+1+"px");setTimeout(function(){n(".ui-page-active").css("padding-bottom",t+"px")},0)},destroy:function(){this._super();this.element.closest(".ui-page-active").removeClass("ui-android-2x-fix")}})}(n),function(n,r){n.widget("mobile.panel",n.mobile.widget,{options:{classes:{panel:"ui-panel",panelOpen:"ui-panel-open",panelClosed:"ui-panel-closed",panelFixed:"ui-panel-fixed",panelInner:"ui-panel-inner",modal:"ui-panel-dismiss",modalOpen:"ui-panel-dismiss-open",pagePanel:"ui-page-panel",pagePanelOpen:"ui-page-panel-open",contentWrap:"ui-panel-content-wrap",contentWrapOpen:"ui-panel-content-wrap-open",contentWrapClosed:"ui-panel-content-wrap-closed",contentFixedToolbar:"ui-panel-content-fixed-toolbar",contentFixedToolbarOpen:"ui-panel-content-fixed-toolbar-open",contentFixedToolbarClosed:"ui-panel-content-fixed-toolbar-closed",animate:"ui-panel-animate"},animate:!0,theme:"c",position:"left",dismissible:!0,display:"reveal",initSelector:":jqmData(role='panel')",swipeClose:!0,positionFixed:!1},_panelID:null,_closeLink:null,_page:null,_modal:null,_panelInner:null,_wrapper:null,_fixedToolbar:null,_create:function(){var t=this,i=t.element,r=i.closest(":jqmData(role='page')"),u=function(){var t=n.data(r[0],"mobilePage").options.theme;return"ui-body-"+t},f=function(){var n=i.find("."+t.options.classes.panelInner);return 0===n.length&&(n=i.children().wrapAll('<div class="'+t.options.classes.panelInner+'" />').parent()),n},e=function(){var i=r.find("."+t.options.classes.contentWrap);return 0===i.length&&(i=r.children(".ui-header:not(:jqmData(position='fixed')), .ui-content:not(:jqmData(role='popup')), .ui-footer:not(:jqmData(position='fixed'))").wrapAll('<div class="'+t.options.classes.contentWrap+" "+u()+'" />').parent(),n.support.cssTransform3d&&t.options.animate&&i.addClass(t.options.classes.animate)),i},o=function(){var i=r.find("."+t.options.classes.contentFixedToolbar);return 0===i.length&&(i=r.find(".ui-header:jqmData(position='fixed'), .ui-footer:jqmData(position='fixed')").addClass(t.options.classes.contentFixedToolbar),n.support.cssTransform3d&&t.options.animate&&i.addClass(t.options.classes.animate)),i};n.extend(this,{_panelID:i.attr("id"),_closeLink:i.find(":jqmData(rel='close')"),_page:i.closest(":jqmData(role='page')"),_pageTheme:u(),_panelInner:f(),_wrapper:e(),_fixedToolbar:o()});t._addPanelClasses();t._wrapper.addClass(this.options.classes.contentWrapClosed);t._fixedToolbar.addClass(this.options.classes.contentFixedToolbarClosed);t._page.addClass(t.options.classes.pagePanel);n.support.cssTransform3d&&t.options.animate&&this.element.addClass(t.options.classes.animate);t._bindUpdateLayout();t._bindCloseEvents();t._bindLinkListeners();t._bindPageEvents();t.options.dismissible&&t._createModal();t._bindSwipeEvents()},_createModal:function(){var t=this;t._modal=n("<div class='"+t.options.classes.modal+"' data-panelid='"+t._panelID+"'><\/div>").on("mousedown",function(){t.close()}).appendTo(this._page)},_getPosDisplayClasses:function(n){return n+"-position-"+this.options.position+" "+n+"-display-"+this.options.display},_getPanelClasses:function(){var n=this.options.classes.panel+" "+this._getPosDisplayClasses(this.options.classes.panel)+" "+this.options.classes.panelClosed;return this.options.theme&&(n+=" ui-body-"+this.options.theme),this.options.positionFixed&&(n+=" "+this.options.classes.panelFixed),n},_addPanelClasses:function(){this.element.addClass(this._getPanelClasses())},_bindCloseEvents:function(){var n=this;n._closeLink.on("click.panel",function(t){return t.preventDefault(),n.close(),!1});n.element.on("click.panel","a:jqmData(ajax='false')",function(){n.close()})},_positionPanel:function(){var t=this,i=t._panelInner.outerHeight(),r=i>n.mobile.getScreenHeight();r||!t.options.positionFixed?(r&&(t._unfixPanel(),n.mobile.resetActivePageHeight(i)),t._scrollIntoView(i)):t._fixPanel()},_scrollIntoView:function(i){n(t).scrollTop()>i&&t.scrollTo(0,0)},_bindFixListener:function(){this._on(n(t),{throttledresize:"_positionPanel"})},_unbindFixListener:function(){this._off(n(t),"throttledresize")},_unfixPanel:function(){this.options.positionFixed&&n.support.fixedPosition&&this.element.removeClass(this.options.classes.panelFixed)},_fixPanel:function(){this.options.positionFixed&&n.support.fixedPosition&&this.element.addClass(this.options.classes.panelFixed)},_bindUpdateLayout:function(){var n=this;n.element.on("updatelayout",function(){n._open&&n._positionPanel()})},_bindLinkListeners:function(){var t=this;t._page.on("click.panel","a",function(i){if(this.href.split("#")[1]===t._panelID&&t._panelID!==r){i.preventDefault();var u=n(this);return u.hasClass("ui-link")||(u.addClass(n.mobile.activeBtnClass),t.element.one("panelopen panelclose",function(){u.removeClass(n.mobile.activeBtnClass)})),t.toggle(),!1}})},_bindSwipeEvents:function(){var n=this,t=n._modal?n.element.add(n._modal):n.element;n.options.swipeClose&&("left"===n.options.position?t.on("swipeleft.panel",function(){n.close()}):t.on("swiperight.panel",function(){n.close()}))},_bindPageEvents:function(){var n=this;n._page.on("panelbeforeopen",function(t){n._open&&t.target!==n.element[0]&&n.close()}).on("pagehide",function(){n._open&&n.close(!0)}).on("keyup.panel",function(t){27===t.keyCode&&n._open&&n.close()})},_open:!1,_contentWrapOpenClasses:null,_fixedToolbarOpenClasses:null,_modalOpenClasses:null,open:function(t){if(!this._open){var i=this,r=i.options,f=function(){i._page.off("panelclose");i._page.jqmData("panel","open");!t&&n.support.cssTransform3d&&r.animate?i.element.add(i._wrapper).on(i._transitionEndEvents,u):setTimeout(u,0);i.options.theme&&"overlay"!==i.options.display&&i._page.removeClass(i._pageTheme).addClass("ui-body-"+i.options.theme);i.element.removeClass(r.classes.panelClosed).addClass(r.classes.panelOpen);i._positionPanel();i.options.theme&&"overlay"!==i.options.display&&i._wrapper.css("min-height",i._page.css("min-height"));i._contentWrapOpenClasses=i._getPosDisplayClasses(r.classes.contentWrap);i._wrapper.removeClass(r.classes.contentWrapClosed).addClass(i._contentWrapOpenClasses+" "+r.classes.contentWrapOpen);i._fixedToolbarOpenClasses=i._getPosDisplayClasses(r.classes.contentFixedToolbar);i._fixedToolbar.removeClass(r.classes.contentFixedToolbarClosed).addClass(i._fixedToolbarOpenClasses+" "+r.classes.contentFixedToolbarOpen);i._modalOpenClasses=i._getPosDisplayClasses(r.classes.modal)+" "+r.classes.modalOpen;i._modal&&i._modal.addClass(i._modalOpenClasses)},u=function(){i.element.add(i._wrapper).off(i._transitionEndEvents,u);i._page.addClass(r.classes.pagePanelOpen);i._bindFixListener();i._trigger("open")};0>this.element.closest(".ui-page-active").length&&(t=!0);i._trigger("beforeopen");"open"===i._page.jqmData("panel")?i._page.on("panelclose",function(){f()}):f();i._open=!0}},close:function(t){if(this._open){var r=this.options,i=this,f=function(){!t&&n.support.cssTransform3d&&r.animate?i.element.add(i._wrapper).on(i._transitionEndEvents,u):setTimeout(u,0);i._page.removeClass(r.classes.pagePanelOpen);i.element.removeClass(r.classes.panelOpen);i._wrapper.removeClass(r.classes.contentWrapOpen);i._fixedToolbar.removeClass(r.classes.contentFixedToolbarOpen);i._modal&&i._modal.removeClass(i._modalOpenClasses)},u=function(){i.options.theme&&"overlay"!==i.options.display&&(i._page.removeClass("ui-body-"+i.options.theme).addClass(i._pageTheme),i._wrapper.css("min-height",""));i.element.add(i._wrapper).off(i._transitionEndEvents,u);i.element.addClass(r.classes.panelClosed);i._wrapper.removeClass(i._contentWrapOpenClasses).addClass(r.classes.contentWrapClosed);i._fixedToolbar.removeClass(i._fixedToolbarOpenClasses).addClass(r.classes.contentFixedToolbarClosed);i._fixPanel();i._unbindFixListener();n.mobile.resetActivePageHeight();i._page.jqmRemoveData("panel");i._trigger("close")};0>this.element.closest(".ui-page-active").length&&(t=!0);i._trigger("beforeclose");f();i._open=!1}},toggle:function(){this[this._open?"close":"open"]()},_transitionEndEvents:"webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",_destroy:function(){var t=this.options.classes,i=this.options.theme,r=this.element.siblings("."+t.panel).length;r?this._open&&(this._wrapper.removeClass(t.contentWrapOpen),this._fixedToolbar.removeClass(t.contentFixedToolbarOpen),this._page.jqmRemoveData("panel"),this._page.removeClass(t.pagePanelOpen),i&&this._page.removeClass("ui-body-"+i).addClass(this._pageTheme)):(this._wrapper.children().unwrap(),this._page.find("a").unbind("panelopen panelclose"),this._page.removeClass(t.pagePanel),this._open&&(this._page.jqmRemoveData("panel"),this._page.removeClass(t.pagePanelOpen),i&&this._page.removeClass("ui-body-"+i).addClass(this._pageTheme),n.mobile.resetActivePageHeight()));this._panelInner.children().unwrap();this.element.removeClass([this._getPanelClasses(),t.panelAnimate].join(" ")).off("swipeleft.panel swiperight.panel").off("panelbeforeopen").off("panelhide").off("keyup.panel").off("updatelayout");this._closeLink.off("click.panel");this._modal&&this._modal.remove();this.element.off(this._transitionEndEvents).removeClass([t.panelUnfixed,t.panelClosed,t.panelOpen].join(" "))}});n(i).bind("pagecreate create",function(t){n.mobile.panel.prototype.enhanceWithin(t.target)})}(n),function(n,t){n.widget("mobile.table",n.mobile.widget,{options:{classes:{table:"ui-table"},initSelector:":jqmData(role='table')"},_create:function(){var n=this;n.refresh(!0)},refresh:function(i){var r=this,u=this.element.find("thead tr");i&&this.element.addClass(this.options.classes.table);r.headers=this.element.find("tr:eq(0)").children();r.allHeaders=r.headers.add(u.children());u.each(function(){var f=0;n(this).children().each(function(){var o=parseInt(n(this).attr("colspan"),10),s=":nth-child("+(f+1)+")",e;if(n(this).jqmData("colstart",f+1),o)for(e=0;o-1>e;e++)f++,s+=", :nth-child("+(f+1)+")";i===t&&n(this).jqmData("cells","");n(this).jqmData("cells",r.element.find("tr").not(u.eq(0)).not(this).children(s));f++})});i===t&&this.element.trigger("refresh")}});n.mobile.document.bind("pagecreate create",function(t){n.mobile.table.prototype.enhanceWithin(t.target)})}(n),function(n,t){n.mobile.table.prototype.options.mode="columntoggle";n.mobile.table.prototype.options.columnBtnTheme=null;n.mobile.table.prototype.options.columnPopupTheme=null;n.mobile.table.prototype.options.columnBtnText="Columns...";n.mobile.table.prototype.options.classes=n.extend(n.mobile.table.prototype.options.classes,{popup:"ui-table-columntoggle-popup",columnBtn:"ui-table-columntoggle-btn",priorityPrefix:"ui-table-priority-",columnToggleTable:"ui-table-columntoggle"});n.mobile.document.delegate(":jqmData(role='table')","tablecreate refresh",function(i){var a,c,f,l,s=n(this),u=s.data("mobile-table"),e=i.type,r=u.options,o=n.mobile.ns,h=(s.attr("id")||r.classes.popup)+"-popup";"columntoggle"===r.mode&&("refresh"!==e&&(u.element.addClass(r.classes.columnToggleTable),a=n("<a href='#"+h+"' class='"+r.classes.columnBtn+"' data-"+o+"rel='popup' data-"+o+"mini='true'>"+r.columnBtnText+"<\/a>"),c=n("<div data-"+o+"role='popup' data-"+o+"role='fieldcontain' class='"+r.classes.popup+"' id='"+h+"'><\/div>"),f=n("<fieldset data-"+o+"role='controlgroup'><\/fieldset>")),u.headers.not("td").each(function(t){var u=n(this).jqmData("priority"),i=n(this).add(n(this).jqmData("cells"));u&&(i.addClass(r.classes.priorityPrefix+u),"refresh"!==e?n("<label><input type='checkbox' checked />"+n(this).text()+"<\/label>").appendTo(f).children(0).jqmData("cells",i).checkboxradio({theme:r.columnPopupTheme}):n("#"+h+" fieldset div:eq("+t+")").find("input").jqmData("cells",i))}),"refresh"!==e&&f.appendTo(c),l=f===t?n("#"+h+" fieldset"):f,"refresh"!==e&&(l.on("change","input",function(){this.checked?n(this).jqmData("cells").removeClass("ui-table-cell-hidden").addClass("ui-table-cell-visible"):n(this).jqmData("cells").removeClass("ui-table-cell-visible").addClass("ui-table-cell-hidden")}),a.insertBefore(s).buttonMarkup({theme:r.columnBtnTheme}),c.insertBefore(s).popup()),u.update=function(){l.find("input").each(function(){this.checked?(this.checked="table-cell"===n(this).jqmData("cells").eq(0).css("display"),"refresh"===e&&n(this).jqmData("cells").addClass("ui-table-cell-visible")):n(this).jqmData("cells").addClass("ui-table-cell-hidden");n(this).checkboxradio("refresh")})},n.mobile.window.on("throttledresize",u.update),u.update())})}(n),function(n){n.mobile.table.prototype.options.mode="reflow";n.mobile.table.prototype.options.classes=n.extend(n.mobile.table.prototype.options.classes,{reflowTable:"ui-table-reflow",cellLabels:"ui-table-cell-label"});n.mobile.document.delegate(":jqmData(role='table')","tablecreate refresh",function(t){var f=n(this),e=t.type,r=f.data("mobile-table"),i=r.options,u;"reflow"===i.mode&&("refresh"!==e&&r.element.addClass(i.classes.reflowTable),u=n(r.allHeaders.get().reverse()),u.each(function(){var t=n(this).jqmData("cells"),o=n(this).jqmData("colstart"),e=t.not(this).filter("thead th").length&&" ui-table-cell-label-top",r=n(this).text(),u,f;""!==r&&(e?(u=parseInt(n(this).attr("colspan"),10),f="",u&&(f="td:nth-child("+u+"n + "+o+")"),t.filter(f).prepend("<b class='"+i.classes.cellLabels+e+"'>"+r+"<\/b>")):t.prepend("<b class='"+i.classes.cellLabels+"'>"+r+"<\/b>"))}))})}(n),function(n,t){function c(n){h=n.originalEvent;u=h.accelerationIncludingGravity;e=Math.abs(u.x);o=Math.abs(u.y);s=Math.abs(u.z);!t.orientation&&(e>7||(s>6&&8>o||8>s&&o>6)&&e>5)?i.enabled&&i.disable():i.enabled||i.enable()}var f,h,e,o,s,u,i;if(n.mobile.iosorientationfixEnabled=!0,f=navigator.userAgent,!(/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(f)&&f.indexOf("AppleWebKit")>-1))return n.mobile.iosorientationfixEnabled=!1,r;i=n.mobile.zoom;n.mobile.document.on("mobileinit",function(){n.mobile.iosorientationfixEnabled&&n.mobile.window.bind("orientationchange.iosorientationfix",i.enable).bind("devicemotion.iosorientationfix",c)})}(n,this),function(n,t){function u(){f.removeClass("ui-mobile-rendering")}var f=n("html"),r=(n("head"),n.mobile.window);n(t.document).trigger("mobileinit");n.mobile.gradeA()&&(n.mobile.ajaxBlacklist&&(n.mobile.ajaxEnabled=!1),f.addClass("ui-mobile ui-mobile-rendering"),setTimeout(u,5e3),n.extend(n.mobile,{initializePage:function(){var t=n.mobile.path,f=n(":jqmData(role='page'), :jqmData(role='dialog')"),e=t.stripHash(t.stripQueryParams(t.parseLocation().hash)),o=i.getElementById(e);f.length||(f=n("body").wrapInner("<div data-"+n.mobile.ns+"role='page'><\/div>").children(0));f.each(function(){var t=n(this);t.jqmData("url")||t.attr("data-"+n.mobile.ns+"url",t.attr("id")||location.pathname+location.search)});n.mobile.firstPage=f.first();n.mobile.pageContainer=n.mobile.firstPage.parent().addClass("ui-mobile-viewport");r.trigger("pagecontainercreate");n.mobile.showPageLoadingMsg();u();n.mobile.hashListeningEnabled&&n.mobile.path.isHashValid(location.hash)&&(n(o).is(':jqmData(role="page")')||n.mobile.path.isPath(e)||e===n.mobile.dialogHashKey)?n.event.special.navigate.isPushStateEnabled()?(n.mobile.navigate.history.stack=[],n.mobile.navigate(n.mobile.path.isPath(location.hash)?location.hash:location.href)):r.trigger("hashchange",[!0]):(n.mobile.path.isHashValid(location.hash)&&(n.mobile.urlHistory.initialDst=e.replace("#","")),n.event.special.navigate.isPushStateEnabled()&&n.mobile.navigate.navigator.squash(t.parseLocation().href),n.mobile.changePage(n.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0}))}}),n.mobile.navreadyDeferred.resolve(),n(function(){t.scrollTo(0,1);n.mobile.defaultHomeScroll=n.support.scrollTop&&1!==n.mobile.window.scrollTop()?1:0;n.mobile.autoInitializePage&&n.mobile.initializePage();r.load(n.mobile.silentScroll);n.support.cssPointerEvents||n.mobile.document.delegate(".ui-disabled","vclick",function(n){n.preventDefault();n.stopImmediatePropagation()})}))}(n,this)})